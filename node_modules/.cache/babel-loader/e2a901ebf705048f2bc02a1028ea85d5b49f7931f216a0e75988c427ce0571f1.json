{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{useLocation}from'react-router-dom';import AIChat from'../components/features/ai-chat/ai-chat';import CommandPalette from'../components/features/command/command-palette';import{usePlanStore}from'../lib/store';import{toast}from'sonner';import ReactMarkdown from'react-markdown';// 文件内容类型定义\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const WorkspacePage=()=>{const location=useLocation();const{plans}=usePlanStore();const[currentPlan,setCurrentPlan]=useState(null);const[isLeftSidebarCollapsed,setIsLeftSidebarCollapsed]=useState(false);const[leftSidebarWidth,setLeftSidebarWidth]=useState(256);// Default width of 64 in rem (w-64)\nconst[isLeftResizing,setIsLeftResizing]=useState(false);const leftResizingRef=useRef(null);const[isRightSidebarCollapsed,setIsRightSidebarCollapsed]=useState(false);const[rightSidebarWidth,setRightSidebarWidth]=useState(384);// Default width of 96 in rem (w-96)\nconst[isResizing,setIsResizing]=useState(false);const resizingRef=useRef(null);const[isCommandPaletteOpen,setIsCommandPaletteOpen]=useState(false);const[openFiles,setOpenFiles]=useState([]);const[currentFile,setCurrentFile]=useState('');const[fileContents,setFileContents]=useState({});// 从URL获取planId并加载相应的计划\nuseEffect(()=>{const searchParams=new URLSearchParams(location.search);const planId=searchParams.get('planId');if(planId&&plans){const plan=plans.find(p=>p.id===planId);if(plan){setCurrentPlan(plan);// 生成计划相关的文件内容\nconst planFiles={'plan-overview.md':generatePlanOverviewContent(plan),'tasks.md':generateTasksContent(plan),'progress.md':generateProgressContent(plan),'notes.md':''};setFileContents(prev=>({...prev,...planFiles}));// 设置默认打开的文件\nsetOpenFiles(Object.keys(planFiles));setCurrentFile('plan-overview.md');}}else{// 没有计划ID时显示默认工作区\nconst defaultContent={'workspace.txt':`# 任务计划 AI 工作区\n\n这是一个集成式AI工作环境，你可以：\n- 向AI提出关于任务的问题\n- 获取关于任务拆解的建议\n- 使用AI协助管理和优化你的任务计划\n\n## 使用方法\n\n1. 在右侧AI助手中提问\n2. 使用⌘K打开命令面板\n3. 使用@符号引用文件和资源`};setFileContents(prev=>({...prev,...defaultContent}));setOpenFiles(['workspace.txt']);setCurrentFile('workspace.txt');}},[location.search,plans]);// 生成计划概览内容\nconst generatePlanOverviewContent=plan=>{return`# ${plan.title}\n\n## 描述\n${plan.description||'暂无描述'}\n\n## 意义\n${plan.significance||'暂无描述'}\n\n## 创建时间\n${plan.createdAt.toLocaleString()}\n\n## 计划状态\n${plan.status}\n\n## 总进度\n${plan.progress}%\n`;};// 生成任务内容\nconst generateTasksContent=plan=>{let content=`# ${plan.title} - 任务列表\\n\\n`;if(plan.stages&&plan.stages.length>0){plan.stages.forEach(stage=>{content+=`## ${stage.title}\\n\\n`;if(stage.tasks&&stage.tasks.length>0){stage.tasks.forEach(task=>{content+=`- [${task.completed?'x':' '}] ${task.title}\\n`;if(task.description){content+=`  ${task.description}\\n`;}});}else{content+=`暂无任务\\n`;}content+='\\n';});}else{content+='暂无任务阶段\\n';}return content;};// 生成进度内容\nconst generateProgressContent=plan=>{var _plan$stages$find;return`# ${plan.title} - 进度跟踪\n\n## 总体进度\n${plan.progress}% 完成\n\n## 当前阶段\n${((_plan$stages$find=plan.stages.find(s=>s.id===plan.currentStageId))===null||_plan$stages$find===void 0?void 0:_plan$stages$find.title)||'未设置'}\n\n## 延迟情况\n${plan.delayedDays?`已延迟 ${plan.delayedDays} 天`:'按时进行中'}\n\n## AI互动次数\n${plan.aiInteractions||0} 次\n\n## 最近更新\n${plan.updatedAt.toLocaleString()}\n`;};// 定义可用命令\nconst commands=[{id:'new-file',name:'新建文件',description:'创建一个新的文件',icon:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 4v16m8-8H4\"})}),action:()=>{const fileName=prompt('请输入文件名:');if(fileName&&!openFiles.includes(fileName)){setOpenFiles(prev=>[...prev,fileName]);setFileContents(prev=>({...prev,[fileName]:''}));setCurrentFile(fileName);toast.success(`文件 ${fileName} 已创建`);}}},{id:'toggle-left-sidebar',name:'切换左侧栏',description:'显示或隐藏左侧文件栏',icon:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M4 6h16M4 12h16M4 18h7\"})}),action:()=>{setIsLeftSidebarCollapsed(!isLeftSidebarCollapsed);}},{id:'toggle-right-sidebar',name:'切换AI助手',description:'显示或隐藏右侧AI助手',icon:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z\"})}),action:()=>{setIsRightSidebarCollapsed(!isRightSidebarCollapsed);}},{id:'ask-ai',name:'询问AI',description:'直接向AI助手提问',icon:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"})}),action:()=>{setIsRightSidebarCollapsed(false);toast.info('请在AI助手栏中提问');}},{id:'go-to-dashboard',name:'返回任务计划',description:'返回到任务计划页面',icon:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"})}),action:()=>{window.location.href='/dashboard';}}];// 处理AI消息\nconst handleSendMessage=async(message,references)=>{// 模拟AI响应\nreturn new Promise(resolve=>{setTimeout(()=>{let response='';// 根据消息内容模拟不同的响应\nif(message.toLowerCase().includes('任务拆解')){response=`我可以帮你拆解任务。一个好的任务拆解应该包含以下几个步骤：\n\n1. 明确任务目标\n2. 将大任务分解为小任务\n3. 评估每个小任务的优先级\n4. 设定每个小任务的完成时间\n5. 分配资源\n\n希望这对你有所帮助！`;}else if(message.toLowerCase().includes('优化')){response=`要优化你的任务计划，可以考虑以下几点：\n\n1. 使用番茄工作法提高专注度\n2. 建立例行公事，减少决策疲劳\n3. 批量处理同类型的任务\n4. 定期回顾和调整你的计划\n5. 使用自动化工具减少重复工作`;}else if(references&&references.length>0){// 如果有引用文件，基于文件内容给出响应\nconst fileContent=references.map(file=>fileContents[file]||`(无法读取文件 ${file})`).join('\\n\\n');response=`我已分析了你引用的文件。以下是我的发现：\n\n根据文件内容，这是一个使用React框架构建的任务管理应用。主要组件包括计划树(plan-tree)、工作区和仪表盘。\n\n我建议你可以：\n1. 检查组件之间的数据流是否清晰\n2. 确保状态管理逻辑集中且一致\n3. 考虑添加单元测试确保功能稳定性`;}else{response=`我是你的AI助手，可以帮助你:\n\n- 回答关于任务管理的问题\n- 提供任务拆解和优化建议\n- 分析项目文件和代码\n\n你可以尝试询问关于\"任务拆解\"或\"优化\"的问题，或者使用@引用特定文件，我会基于文件内容给你更具体的建议。`;}resolve(response);},1500);});};// 监听快捷键\nuseEffect(()=>{const handleKeyDown=e=>{// 检查Cmd+K或Ctrl+K\nif((e.metaKey||e.ctrlKey)&&e.key==='k'){e.preventDefault();setIsCommandPaletteOpen(true);}};window.addEventListener('keydown',handleKeyDown);return()=>window.removeEventListener('keydown',handleKeyDown);},[]);// 处理左侧边栏拖拽调整宽度\nconst handleLeftResizeMouseDown=e=>{e.preventDefault();setIsLeftResizing(true);leftResizingRef.current={startX:e.clientX,startWidth:leftSidebarWidth};};useEffect(()=>{const handleLeftResizeMouseMove=e=>{if(!isLeftResizing||!leftResizingRef.current)return;const delta=e.clientX-leftResizingRef.current.startX;const newWidth=Math.max(200,Math.min(500,leftResizingRef.current.startWidth+delta));setLeftSidebarWidth(newWidth);};const handleLeftResizeMouseUp=()=>{setIsLeftResizing(false);leftResizingRef.current=null;};if(isLeftResizing){document.addEventListener('mousemove',handleLeftResizeMouseMove);document.addEventListener('mouseup',handleLeftResizeMouseUp);}return()=>{document.removeEventListener('mousemove',handleLeftResizeMouseMove);document.removeEventListener('mouseup',handleLeftResizeMouseUp);};},[isLeftResizing]);// 处理右侧边栏拖拽调整宽度\nconst handleResizeMouseDown=e=>{e.preventDefault();setIsResizing(true);resizingRef.current={startX:e.clientX,startWidth:rightSidebarWidth};};useEffect(()=>{const handleResizeMouseMove=e=>{if(!isResizing||!resizingRef.current)return;const delta=resizingRef.current.startX-e.clientX;const newWidth=Math.max(280,Math.min(800,resizingRef.current.startWidth+delta));setRightSidebarWidth(newWidth);};const handleResizeMouseUp=()=>{setIsResizing(false);resizingRef.current=null;};if(isResizing){document.addEventListener('mousemove',handleResizeMouseMove);document.addEventListener('mouseup',handleResizeMouseUp);}return()=>{document.removeEventListener('mousemove',handleResizeMouseMove);document.removeEventListener('mouseup',handleResizeMouseUp);};},[isResizing]);// 渲染文件内容的函数\nconst renderFileContent=content=>{if(!content)return/*#__PURE__*/_jsx(\"div\",{className:\"p-4 text-gray-500\",children:\"\\u7A7A\\u6587\\u4EF6\"});// 对于markdown文件使用markdown渲染\nif(currentFile.endsWith('.md')){return/*#__PURE__*/_jsx(\"div\",{className:\"p-4 prose prose-sm max-w-none\",children:/*#__PURE__*/_jsx(ReactMarkdown,{children:content})});}// 对于普通文本或代码文件使用预格式化文本\nreturn/*#__PURE__*/_jsx(\"pre\",{className:\"p-4 font-mono text-sm whitespace-pre-wrap\",children:content});};return/*#__PURE__*/_jsxs(\"div\",{className:\"h-screen w-screen flex overflow-hidden bg-gray-100\",children:[/*#__PURE__*/_jsxs(\"aside\",{className:`bg-gray-800 text-white flex flex-col transition-all ${isLeftSidebarCollapsed?'w-12':''}`,style:{width:isLeftSidebarCollapsed?'3rem':`${leftSidebarWidth}px`},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 border-b border-gray-700\",children:[/*#__PURE__*/_jsx(\"h2\",{className:`font-medium ${isLeftSidebarCollapsed?'hidden':'block'}`,children:\"\\u6587\\u4EF6\\u6D4F\\u89C8\\u5668\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsLeftSidebarCollapsed(!isLeftSidebarCollapsed),className:\"text-gray-400 hover:text-white\",children:isLeftSidebarCollapsed?/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 5l7 7-7 7M5 5l7 7-7 7\"})}):/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M11 19l-7-7 7-7m8 14l-7-7 7-7\"})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-auto p-2\",children:!isLeftSidebarCollapsed&&/*#__PURE__*/_jsx(\"div\",{className:\"py-2\",children:Object.keys(fileContents).map(fileName=>/*#__PURE__*/_jsxs(\"div\",{className:`flex items-center ${fileName===currentFile?'text-white bg-gray-700':'text-gray-300 hover:text-white'} py-1 px-2 rounded hover:bg-gray-700 cursor-pointer`,onClick:()=>{if(!openFiles.includes(fileName)){setOpenFiles(prev=>[...prev,fileName]);}setCurrentFile(fileName);},children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 mr-2 flex-shrink-0\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"truncate\",children:fileName})]},fileName))})})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"flex-1 flex flex-col h-full overflow-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-700 text-white h-12 flex items-center px-2 space-x-1 overflow-x-auto\",children:openFiles.map(file=>/*#__PURE__*/_jsxs(\"button\",{className:`px-3 py-1 rounded-t-md text-sm flex items-center space-x-2 ${currentFile===file?'bg-gray-100 text-gray-800':'bg-gray-600 text-gray-200 hover:bg-gray-500'}`,onClick:()=>setCurrentFile(file),children:[/*#__PURE__*/_jsx(\"span\",{children:file}),currentFile===file&&/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-gray-500 hover:text-gray-700\",onClick:e=>{e.stopPropagation();// 关闭文件标签的逻辑\nsetOpenFiles(prev=>prev.filter(f=>f!==file));if(currentFile===file){// 如果关闭的是当前文件，选择下一个文件\nconst index=openFiles.indexOf(file);if(index>0){setCurrentFile(openFiles[index-1]);}else if(openFiles.length>1){setCurrentFile(openFiles[1]);}}},children:\"\\xD7\"})]},file))}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-auto bg-white\",children:currentFile&&fileContents[currentFile]?renderFileContent(fileContents[currentFile]):/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-full text-gray-400\",children:\"\\u8BF7\\u9009\\u62E9\\u6216\\u521B\\u5EFA\\u4E00\\u4E2A\\u6587\\u4EF6\"})})]}),/*#__PURE__*/_jsxs(\"aside\",{className:`bg-gray-50 border-l border-gray-200 flex flex-col ${isRightSidebarCollapsed?'w-0':''}`,style:{width:isRightSidebarCollapsed?'0':`${rightSidebarWidth}px`},children:[!isRightSidebarCollapsed&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"h-12 border-b border-gray-200 flex items-center justify-between px-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-medium text-gray-800\",children:\"AI \\u52A9\\u624B\"}),/*#__PURE__*/_jsx(\"button\",{className:\"text-gray-500 hover:text-gray-700\",onClick:()=>setIsRightSidebarCollapsed(true),children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-hidden\",children:/*#__PURE__*/_jsx(AIChat,{onSendMessage:handleSendMessage,availableFiles:openFiles})})]}),!isRightSidebarCollapsed&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0 left-0 w-1 h-full cursor-ew-resize bg-transparent hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity\",onMouseDown:handleResizeMouseDown})]}),isCommandPaletteOpen&&/*#__PURE__*/_jsx(CommandPalette,{isOpen:isCommandPaletteOpen,commands:commands,onClose:()=>setIsCommandPaletteOpen(false)}),isRightSidebarCollapsed&&/*#__PURE__*/_jsx(\"button\",{className:\"fixed right-4 bottom-4 bg-blue-600 text-white p-2 rounded-full shadow-lg hover:bg-blue-700\",onClick:()=>setIsRightSidebarCollapsed(false),\"aria-label\":\"Open AI Assistant\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"})})})]});};export default WorkspacePage;","map":{"version":3,"names":["React","useState","useEffect","useRef","useLocation","AIChat","CommandPalette","usePlanStore","toast","ReactMarkdown","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","WorkspacePage","location","plans","currentPlan","setCurrentPlan","isLeftSidebarCollapsed","setIsLeftSidebarCollapsed","leftSidebarWidth","setLeftSidebarWidth","isLeftResizing","setIsLeftResizing","leftResizingRef","isRightSidebarCollapsed","setIsRightSidebarCollapsed","rightSidebarWidth","setRightSidebarWidth","isResizing","setIsResizing","resizingRef","isCommandPaletteOpen","setIsCommandPaletteOpen","openFiles","setOpenFiles","currentFile","setCurrentFile","fileContents","setFileContents","searchParams","URLSearchParams","search","planId","get","plan","find","p","id","planFiles","generatePlanOverviewContent","generateTasksContent","generateProgressContent","prev","Object","keys","defaultContent","title","description","significance","createdAt","toLocaleString","status","progress","content","stages","length","forEach","stage","tasks","task","completed","_plan$stages$find","s","currentStageId","delayedDays","aiInteractions","updatedAt","commands","name","icon","className","fill","stroke","viewBox","children","strokeLinecap","strokeLinejoin","strokeWidth","d","action","fileName","prompt","includes","success","info","window","href","handleSendMessage","message","references","Promise","resolve","setTimeout","response","toLowerCase","fileContent","map","file","join","handleKeyDown","e","metaKey","ctrlKey","key","preventDefault","addEventListener","removeEventListener","handleLeftResizeMouseDown","current","startX","clientX","startWidth","handleLeftResizeMouseMove","delta","newWidth","Math","max","min","handleLeftResizeMouseUp","document","handleResizeMouseDown","handleResizeMouseMove","handleResizeMouseUp","renderFileContent","endsWith","style","width","onClick","stopPropagation","filter","f","index","indexOf","onSendMessage","availableFiles","onMouseDown","isOpen","onClose"],"sources":["/home/devbox/project/src/pages/workspace-page.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { Button } from '../components/ui/button';\nimport AIChat, { Message } from '../components/features/ai-chat/ai-chat';\nimport CommandPalette from '../components/features/command/command-palette';\nimport { usePlanStore } from '../lib/store';\nimport { toast } from 'sonner';\nimport { Plan } from '../types/task';\nimport ReactMarkdown from 'react-markdown';\n\n// 文件内容类型定义\ninterface FileContents {\n  [key: string]: string;\n}\n\nconst WorkspacePage: React.FC = () => {\n  const location = useLocation();\n  const { plans } = usePlanStore();\n  const [currentPlan, setCurrentPlan] = useState<Plan | null>(null);\n  \n  const [isLeftSidebarCollapsed, setIsLeftSidebarCollapsed] = useState(false);\n  const [leftSidebarWidth, setLeftSidebarWidth] = useState(256); // Default width of 64 in rem (w-64)\n  const [isLeftResizing, setIsLeftResizing] = useState(false);\n  const leftResizingRef = useRef<{ startX: number; startWidth: number } | null>(null);\n  \n  const [isRightSidebarCollapsed, setIsRightSidebarCollapsed] = useState(false);\n  const [rightSidebarWidth, setRightSidebarWidth] = useState(384); // Default width of 96 in rem (w-96)\n  const [isResizing, setIsResizing] = useState(false);\n  const resizingRef = useRef<{ startX: number; startWidth: number } | null>(null);\n  \n  const [isCommandPaletteOpen, setIsCommandPaletteOpen] = useState(false);\n  const [openFiles, setOpenFiles] = useState<string[]>([]);\n  const [currentFile, setCurrentFile] = useState<string>('');\n  const [fileContents, setFileContents] = useState<FileContents>({});\n\n  // 从URL获取planId并加载相应的计划\n  useEffect(() => {\n    const searchParams = new URLSearchParams(location.search);\n    const planId = searchParams.get('planId');\n    \n    if (planId && plans) {\n      const plan = plans.find(p => p.id === planId);\n      if (plan) {\n        setCurrentPlan(plan);\n        \n        // 生成计划相关的文件内容\n        const planFiles: FileContents = {\n          'plan-overview.md': generatePlanOverviewContent(plan),\n          'tasks.md': generateTasksContent(plan),\n          'progress.md': generateProgressContent(plan),\n          'notes.md': ''\n        };\n        \n        setFileContents(prev => ({...prev, ...planFiles}));\n        \n        // 设置默认打开的文件\n        setOpenFiles(Object.keys(planFiles));\n        setCurrentFile('plan-overview.md');\n      }\n    } else {\n      // 没有计划ID时显示默认工作区\n      const defaultContent = {\n        'workspace.txt': `# 任务计划 AI 工作区\n\n这是一个集成式AI工作环境，你可以：\n- 向AI提出关于任务的问题\n- 获取关于任务拆解的建议\n- 使用AI协助管理和优化你的任务计划\n\n## 使用方法\n\n1. 在右侧AI助手中提问\n2. 使用⌘K打开命令面板\n3. 使用@符号引用文件和资源`\n      };\n      \n      setFileContents(prev => ({...prev, ...defaultContent}));\n      setOpenFiles(['workspace.txt']);\n      setCurrentFile('workspace.txt');\n    }\n  }, [location.search, plans]);\n\n  // 生成计划概览内容\n  const generatePlanOverviewContent = (plan: Plan): string => {\n    return `# ${plan.title}\n\n## 描述\n${plan.description || '暂无描述'}\n\n## 意义\n${plan.significance || '暂无描述'}\n\n## 创建时间\n${plan.createdAt.toLocaleString()}\n\n## 计划状态\n${plan.status}\n\n## 总进度\n${plan.progress}%\n`;\n  };\n\n  // 生成任务内容\n  const generateTasksContent = (plan: Plan): string => {\n    let content = `# ${plan.title} - 任务列表\\n\\n`;\n    \n    if (plan.stages && plan.stages.length > 0) {\n      plan.stages.forEach(stage => {\n        content += `## ${stage.title}\\n\\n`;\n        \n        if (stage.tasks && stage.tasks.length > 0) {\n          stage.tasks.forEach(task => {\n            content += `- [${task.completed ? 'x' : ' '}] ${task.title}\\n`;\n            if (task.description) {\n              content += `  ${task.description}\\n`;\n            }\n          });\n        } else {\n          content += `暂无任务\\n`;\n        }\n        \n        content += '\\n';\n      });\n    } else {\n      content += '暂无任务阶段\\n';\n    }\n    \n    return content;\n  };\n\n  // 生成进度内容\n  const generateProgressContent = (plan: Plan): string => {\n    return `# ${plan.title} - 进度跟踪\n\n## 总体进度\n${plan.progress}% 完成\n\n## 当前阶段\n${plan.stages.find(s => s.id === plan.currentStageId)?.title || '未设置'}\n\n## 延迟情况\n${plan.delayedDays ? `已延迟 ${plan.delayedDays} 天` : '按时进行中'}\n\n## AI互动次数\n${plan.aiInteractions || 0} 次\n\n## 最近更新\n${plan.updatedAt.toLocaleString()}\n`;\n  };\n\n  // 定义可用命令\n  const commands = [\n    {\n      id: 'new-file',\n      name: '新建文件',\n      description: '创建一个新的文件',\n      icon: (\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n        </svg>\n      ),\n      action: () => {\n        const fileName = prompt('请输入文件名:');\n        if (fileName && !openFiles.includes(fileName)) {\n          setOpenFiles(prev => [...prev, fileName]);\n          setFileContents(prev => ({\n            ...prev,\n            [fileName]: ''\n          }));\n          setCurrentFile(fileName);\n          toast.success(`文件 ${fileName} 已创建`);\n        }\n      }\n    },\n    {\n      id: 'toggle-left-sidebar',\n      name: '切换左侧栏',\n      description: '显示或隐藏左侧文件栏',\n      icon: (\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h7\" />\n        </svg>\n      ),\n      action: () => {\n        setIsLeftSidebarCollapsed(!isLeftSidebarCollapsed);\n      }\n    },\n    {\n      id: 'toggle-right-sidebar',\n      name: '切换AI助手',\n      description: '显示或隐藏右侧AI助手',\n      icon: (\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z\" />\n        </svg>\n      ),\n      action: () => {\n        setIsRightSidebarCollapsed(!isRightSidebarCollapsed);\n      }\n    },\n    {\n      id: 'ask-ai',\n      name: '询问AI',\n      description: '直接向AI助手提问',\n      icon: (\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\" />\n        </svg>\n      ),\n      action: () => {\n        setIsRightSidebarCollapsed(false);\n        toast.info('请在AI助手栏中提问');\n      }\n    },\n    {\n      id: 'go-to-dashboard',\n      name: '返回任务计划',\n      description: '返回到任务计划页面',\n      icon: (\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\" />\n        </svg>\n      ),\n      action: () => {\n        window.location.href = '/dashboard';\n      }\n    }\n  ];\n\n  // 处理AI消息\n  const handleSendMessage = async (message: string, references?: string[]): Promise<string> => {\n    // 模拟AI响应\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        let response = '';\n        \n        // 根据消息内容模拟不同的响应\n        if (message.toLowerCase().includes('任务拆解')) {\n          response = `我可以帮你拆解任务。一个好的任务拆解应该包含以下几个步骤：\n\n1. 明确任务目标\n2. 将大任务分解为小任务\n3. 评估每个小任务的优先级\n4. 设定每个小任务的完成时间\n5. 分配资源\n\n希望这对你有所帮助！`;\n        } else if (message.toLowerCase().includes('优化')) {\n          response = `要优化你的任务计划，可以考虑以下几点：\n\n1. 使用番茄工作法提高专注度\n2. 建立例行公事，减少决策疲劳\n3. 批量处理同类型的任务\n4. 定期回顾和调整你的计划\n5. 使用自动化工具减少重复工作`;\n        } else if (references && references.length > 0) {\n          // 如果有引用文件，基于文件内容给出响应\n          const fileContent = references.map(file => fileContents[file] || `(无法读取文件 ${file})`).join('\\n\\n');\n          response = `我已分析了你引用的文件。以下是我的发现：\n\n根据文件内容，这是一个使用React框架构建的任务管理应用。主要组件包括计划树(plan-tree)、工作区和仪表盘。\n\n我建议你可以：\n1. 检查组件之间的数据流是否清晰\n2. 确保状态管理逻辑集中且一致\n3. 考虑添加单元测试确保功能稳定性`;\n        } else {\n          response = `我是你的AI助手，可以帮助你:\n\n- 回答关于任务管理的问题\n- 提供任务拆解和优化建议\n- 分析项目文件和代码\n\n你可以尝试询问关于\"任务拆解\"或\"优化\"的问题，或者使用@引用特定文件，我会基于文件内容给你更具体的建议。`;\n        }\n        \n        resolve(response);\n      }, 1500);\n    });\n  };\n\n  // 监听快捷键\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      // 检查Cmd+K或Ctrl+K\n      if ((e.metaKey || e.ctrlKey) && e.key === 'k') {\n        e.preventDefault();\n        setIsCommandPaletteOpen(true);\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, []);\n\n  // 处理左侧边栏拖拽调整宽度\n  const handleLeftResizeMouseDown = (e: React.MouseEvent) => {\n    e.preventDefault();\n    setIsLeftResizing(true);\n    leftResizingRef.current = {\n      startX: e.clientX,\n      startWidth: leftSidebarWidth\n    };\n  };\n\n  useEffect(() => {\n    const handleLeftResizeMouseMove = (e: MouseEvent) => {\n      if (!isLeftResizing || !leftResizingRef.current) return;\n      \n      const delta = e.clientX - leftResizingRef.current.startX;\n      const newWidth = Math.max(200, Math.min(500, leftResizingRef.current.startWidth + delta));\n      setLeftSidebarWidth(newWidth);\n    };\n\n    const handleLeftResizeMouseUp = () => {\n      setIsLeftResizing(false);\n      leftResizingRef.current = null;\n    };\n\n    if (isLeftResizing) {\n      document.addEventListener('mousemove', handleLeftResizeMouseMove);\n      document.addEventListener('mouseup', handleLeftResizeMouseUp);\n    }\n\n    return () => {\n      document.removeEventListener('mousemove', handleLeftResizeMouseMove);\n      document.removeEventListener('mouseup', handleLeftResizeMouseUp);\n    };\n  }, [isLeftResizing]);\n\n  // 处理右侧边栏拖拽调整宽度\n  const handleResizeMouseDown = (e: React.MouseEvent) => {\n    e.preventDefault();\n    setIsResizing(true);\n    resizingRef.current = {\n      startX: e.clientX,\n      startWidth: rightSidebarWidth\n    };\n  };\n\n  useEffect(() => {\n    const handleResizeMouseMove = (e: MouseEvent) => {\n      if (!isResizing || !resizingRef.current) return;\n      \n      const delta = resizingRef.current.startX - e.clientX;\n      const newWidth = Math.max(280, Math.min(800, resizingRef.current.startWidth + delta));\n      setRightSidebarWidth(newWidth);\n    };\n\n    const handleResizeMouseUp = () => {\n      setIsResizing(false);\n      resizingRef.current = null;\n    };\n\n    if (isResizing) {\n      document.addEventListener('mousemove', handleResizeMouseMove);\n      document.addEventListener('mouseup', handleResizeMouseUp);\n    }\n\n    return () => {\n      document.removeEventListener('mousemove', handleResizeMouseMove);\n      document.removeEventListener('mouseup', handleResizeMouseUp);\n    };\n  }, [isResizing]);\n\n  // 渲染文件内容的函数\n  const renderFileContent = (content: string) => {\n    if (!content) return <div className=\"p-4 text-gray-500\">空文件</div>;\n    \n    // 对于markdown文件使用markdown渲染\n    if (currentFile.endsWith('.md')) {\n      return (\n        <div className=\"p-4 prose prose-sm max-w-none\">\n          <ReactMarkdown>{content}</ReactMarkdown>\n        </div>\n      );\n    }\n    \n    // 对于普通文本或代码文件使用预格式化文本\n    return (\n      <pre className=\"p-4 font-mono text-sm whitespace-pre-wrap\">{content}</pre>\n    );\n  };\n\n  return (\n    <div className=\"h-screen w-screen flex overflow-hidden bg-gray-100\">\n      {/* 左侧文件浏览器 */}\n      <aside \n        className={`bg-gray-800 text-white flex flex-col transition-all ${isLeftSidebarCollapsed ? 'w-12' : ''}`}\n        style={{ width: isLeftSidebarCollapsed ? '3rem' : `${leftSidebarWidth}px` }}\n      >\n        <div className=\"flex items-center justify-between p-4 border-b border-gray-700\">\n          <h2 className={`font-medium ${isLeftSidebarCollapsed ? 'hidden' : 'block'}`}>文件浏览器</h2>\n          <button \n            onClick={() => setIsLeftSidebarCollapsed(!isLeftSidebarCollapsed)}\n            className=\"text-gray-400 hover:text-white\"\n          >\n            {isLeftSidebarCollapsed ? (\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 5l7 7-7 7M5 5l7 7-7 7\" />\n              </svg>\n            ) : (\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 19l-7-7 7-7m8 14l-7-7 7-7\" />\n              </svg>\n            )}\n          </button>\n        </div>\n        \n        {/* 文件树组件 */}\n        <div className=\"flex-1 overflow-auto p-2\">\n          {!isLeftSidebarCollapsed && (\n            <div className=\"py-2\">\n              {Object.keys(fileContents).map(fileName => (\n                <div \n                  key={fileName}\n                  className={`flex items-center ${fileName === currentFile ? 'text-white bg-gray-700' : 'text-gray-300 hover:text-white'} py-1 px-2 rounded hover:bg-gray-700 cursor-pointer`}\n                  onClick={() => {\n                    if (!openFiles.includes(fileName)) {\n                      setOpenFiles(prev => [...prev, fileName]);\n                    }\n                    setCurrentFile(fileName);\n                  }}\n                >\n                  <svg className=\"w-5 h-5 mr-2 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\" />\n                  </svg>\n                  <span className=\"truncate\">{fileName}</span>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </aside>\n\n      {/* 中间编辑器区域 */}\n      <main className=\"flex-1 flex flex-col h-full overflow-auto\">\n        {/* 文件标签栏 */}\n        <div className=\"bg-gray-700 text-white h-12 flex items-center px-2 space-x-1 overflow-x-auto\">\n          {openFiles.map(file => (\n            <button\n              key={file}\n              className={`px-3 py-1 rounded-t-md text-sm flex items-center space-x-2 ${\n                currentFile === file ? 'bg-gray-100 text-gray-800' : 'bg-gray-600 text-gray-200 hover:bg-gray-500'\n              }`}\n              onClick={() => setCurrentFile(file)}\n            >\n              <span>{file}</span>\n              {currentFile === file && (\n                <span\n                  className=\"ml-2 text-gray-500 hover:text-gray-700\"\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    // 关闭文件标签的逻辑\n                    setOpenFiles(prev => prev.filter(f => f !== file));\n                    if (currentFile === file) {\n                      // 如果关闭的是当前文件，选择下一个文件\n                      const index = openFiles.indexOf(file);\n                      if (index > 0) {\n                        setCurrentFile(openFiles[index - 1]);\n                      } else if (openFiles.length > 1) {\n                        setCurrentFile(openFiles[1]);\n                      }\n                    }\n                  }}\n                >\n                  ×\n                </span>\n              )}\n            </button>\n          ))}\n        </div>\n\n        {/* 文件内容区域 */}\n        <div className=\"flex-1 overflow-auto bg-white\">\n          {currentFile && fileContents[currentFile] ? (\n            renderFileContent(fileContents[currentFile])\n          ) : (\n            <div className=\"flex items-center justify-center h-full text-gray-400\">\n              请选择或创建一个文件\n            </div>\n          )}\n        </div>\n      </main>\n\n      {/* AI助手侧边栏 */}\n      <aside\n        className={`bg-gray-50 border-l border-gray-200 flex flex-col ${isRightSidebarCollapsed ? 'w-0' : ''}`}\n        style={{ width: isRightSidebarCollapsed ? '0' : `${rightSidebarWidth}px` }}\n      >\n        {!isRightSidebarCollapsed && (\n          <>\n            <div className=\"h-12 border-b border-gray-200 flex items-center justify-between px-4\">\n              <h2 className=\"font-medium text-gray-800\">AI 助手</h2>\n              <button\n                className=\"text-gray-500 hover:text-gray-700\"\n                onClick={() => setIsRightSidebarCollapsed(true)}\n              >\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n            <div className=\"flex-1 overflow-hidden\">\n              <AIChat \n                onSendMessage={handleSendMessage} \n                availableFiles={openFiles}\n              />\n            </div>\n          </>\n        )}\n        {/* 拖拽区域 */}\n        {!isRightSidebarCollapsed && (\n          <div\n            className=\"absolute top-0 left-0 w-1 h-full cursor-ew-resize bg-transparent hover:bg-blue-500 opacity-0 hover:opacity-100 transition-opacity\"\n            onMouseDown={handleResizeMouseDown}\n          />\n        )}\n      </aside>\n\n      {/* 命令面板 */}\n      {isCommandPaletteOpen && (\n        <CommandPalette\n          isOpen={isCommandPaletteOpen}\n          commands={commands}\n          onClose={() => setIsCommandPaletteOpen(false)}\n        />\n      )}\n\n      {/* 折叠状态下的右侧展开按钮 */}\n      {isRightSidebarCollapsed && (\n        <button\n          className=\"fixed right-4 bottom-4 bg-blue-600 text-white p-2 rounded-full shadow-lg hover:bg-blue-700\"\n          onClick={() => setIsRightSidebarCollapsed(false)}\n          aria-label=\"Open AI Assistant\"\n        >\n          <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"\n            />\n          </svg>\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default WorkspacePage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}