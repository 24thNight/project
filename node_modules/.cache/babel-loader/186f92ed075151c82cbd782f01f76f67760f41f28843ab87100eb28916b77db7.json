{"ast":null,"code":"var _jsxFileName = \"/home/devbox/project/src/features/clarification/components/answer-input.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Button } from '../../../shared/ui/button';\nimport { Textarea } from '../../../shared/ui/textarea';\nimport { t } from '../../../lib/i18n';\nimport { motion } from 'framer-motion';\nimport { cn } from '../../../lib/utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AnswerInput = ({\n  onSubmit,\n  isDisabled,\n  question,\n  isStreamingQuestion,\n  lang\n}) => {\n  _s();\n  const [answer, setAnswer] = useState('');\n  const textareaRef = useRef(null);\n\n  // Focus the textarea when a new question appears\n  useEffect(() => {\n    if (question && !isStreamingQuestion && textareaRef.current) {\n      textareaRef.current.focus();\n    }\n  }, [question, isStreamingQuestion]);\n  const handleSubmit = () => {\n    if (answer.trim() && !isDisabled) {\n      onSubmit(answer.trim());\n      setAnswer('');\n    }\n  };\n  const handleKeyDown = e => {\n    // Submit on Enter without Shift key\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit();\n    }\n  };\n\n  // Animation variants\n  const containerVariants = {\n    hidden: {\n      opacity: 0,\n      y: 20\n    },\n    visible: {\n      opacity: 1,\n      y: 0,\n      transition: {\n        duration: 0.3,\n        ease: \"easeOut\"\n      }\n    }\n  };\n\n  // Show the input only when we have a question and it's not being streamed\n  const showInput = question && !isStreamingQuestion;\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    initial: \"hidden\",\n    animate: showInput ? \"visible\" : \"hidden\",\n    variants: containerVariants,\n    className: cn(\"bg-background rounded-lg p-4 border border-border shadow-sm\", \"transition-all duration-300\", {\n      \"opacity-50\": isDisabled\n    }),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(Textarea, {\n        ref: textareaRef,\n        value: answer,\n        onChange: e => setAnswer(e.target.value),\n        onKeyDown: handleKeyDown,\n        placeholder: t('clarify.answerPlaceholder', lang),\n        className: \"min-h-[100px] resize-none\",\n        disabled: isDisabled || !showInput,\n        \"aria-label\": t('clarify.answerPlaceholder', lang)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm text-muted-foreground\",\n          children: t('clarify.enterToSubmit', lang)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleSubmit,\n          disabled: isDisabled || !answer.trim() || !showInput,\n          \"aria-label\": t('clarify.continue', lang),\n          children: t('clarify.continue', lang)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n_s(AnswerInput, \"77NAkjen8VdbrCcpWjSeIdhuzwg=\");\n_c = AnswerInput;\nvar _c;\n$RefreshReg$(_c, \"AnswerInput\");","map":{"version":3,"names":["React","useState","useRef","useEffect","Button","Textarea","t","motion","cn","jsxDEV","_jsxDEV","AnswerInput","onSubmit","isDisabled","question","isStreamingQuestion","lang","_s","answer","setAnswer","textareaRef","current","focus","handleSubmit","trim","handleKeyDown","e","key","shiftKey","preventDefault","containerVariants","hidden","opacity","y","visible","transition","duration","ease","showInput","div","initial","animate","variants","className","children","ref","value","onChange","target","onKeyDown","placeholder","disabled","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["/home/devbox/project/src/features/clarification/components/answer-input.tsx"],"sourcesContent":["import React, { useState, KeyboardEvent, useRef, useEffect, ChangeEvent } from 'react';\nimport { Button } from '../../../shared/ui/button';\nimport { Textarea } from '../../../shared/ui/textarea';\nimport { t } from '../../../lib/i18n';\nimport { Language } from '../../../lib/i18n';\nimport { motion } from 'framer-motion';\nimport { cn } from '../../../lib/utils';\nimport { Question } from '../types';\n\ninterface AnswerInputProps {\n  onSubmit: (answer: string) => void;\n  isDisabled: boolean;\n  question: Question | null;\n  isStreamingQuestion: boolean;\n  lang: Language;\n}\n\nexport const AnswerInput: React.FC<AnswerInputProps> = ({\n  onSubmit,\n  isDisabled,\n  question,\n  isStreamingQuestion,\n  lang\n}) => {\n  const [answer, setAnswer] = useState('');\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n  \n  // Focus the textarea when a new question appears\n  useEffect(() => {\n    if (question && !isStreamingQuestion && textareaRef.current) {\n      textareaRef.current.focus();\n    }\n  }, [question, isStreamingQuestion]);\n  \n  const handleSubmit = () => {\n    if (answer.trim() && !isDisabled) {\n      onSubmit(answer.trim());\n      setAnswer('');\n    }\n  };\n  \n  const handleKeyDown = (e: KeyboardEvent<HTMLTextAreaElement>) => {\n    // Submit on Enter without Shift key\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit();\n    }\n  };\n  \n  // Animation variants\n  const containerVariants = {\n    hidden: { opacity: 0, y: 20 },\n    visible: { \n      opacity: 1, \n      y: 0, \n      transition: { \n        duration: 0.3,\n        ease: \"easeOut\"\n      }\n    }\n  };\n  \n  // Show the input only when we have a question and it's not being streamed\n  const showInput = question && !isStreamingQuestion;\n  \n  return (\n    <motion.div\n      initial=\"hidden\"\n      animate={showInput ? \"visible\" : \"hidden\"}\n      variants={containerVariants}\n      className={cn(\n        \"bg-background rounded-lg p-4 border border-border shadow-sm\",\n        \"transition-all duration-300\",\n        { \"opacity-50\": isDisabled }\n      )}\n    >\n      <div className=\"space-y-4\">\n        <Textarea\n          ref={textareaRef}\n          value={answer}\n          onChange={(e: ChangeEvent<HTMLTextAreaElement>) => setAnswer(e.target.value)}\n          onKeyDown={handleKeyDown}\n          placeholder={t('clarify.answerPlaceholder', lang)}\n          className=\"min-h-[100px] resize-none\"\n          disabled={isDisabled || !showInput}\n          aria-label={t('clarify.answerPlaceholder', lang)}\n        />\n        \n        <div className=\"flex justify-between items-center\">\n          <span className=\"text-sm text-muted-foreground\">\n            {t('clarify.enterToSubmit', lang)}\n          </span>\n          \n          <Button \n            onClick={handleSubmit}\n            disabled={isDisabled || !answer.trim() || !showInput}\n            aria-label={t('clarify.continue', lang)}\n          >\n            {t('clarify.continue', lang)}\n          </Button>\n        </div>\n      </div>\n    </motion.div>\n  );\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}