{"ast":null,"code":"var _jsxFileName = \"/home/devbox/project/src/components/features/workspace/resizable-panel.tsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState, useEffect } from 'react';\n\n// 定义组件接口\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n/**\n * 可调整大小的面板组件\n * \n * 可以通过拖动边缘调整宽度，支持折叠/展开功能\n */\nconst ResizablePanel = ({\n  initialWidth,\n  minWidth = 200,\n  maxWidth = 600,\n  position,\n  isCollapsed,\n  onToggleCollapse,\n  children\n}) => {\n  _s();\n  const [width, setWidth] = useState(initialWidth);\n  const [isResizing, setIsResizing] = useState(false);\n  const resizingRef = useRef(null);\n\n  // 处理鼠标按下开始调整大小\n  const handleResizeMouseDown = e => {\n    e.preventDefault();\n    setIsResizing(true);\n    resizingRef.current = {\n      startX: e.clientX,\n      startWidth: width\n    };\n  };\n\n  // 处理调整大小过程中的鼠标移动\n  useEffect(() => {\n    const handleResizeMouseMove = e => {\n      if (!isResizing || !resizingRef.current) return;\n      const delta = position === 'left' ? e.clientX - resizingRef.current.startX : resizingRef.current.startX - e.clientX;\n      const newWidth = Math.max(minWidth, Math.min(maxWidth, resizingRef.current.startWidth + delta));\n      setWidth(newWidth);\n    };\n    const handleResizeMouseUp = () => {\n      setIsResizing(false);\n      resizingRef.current = null;\n    };\n    if (isResizing) {\n      document.addEventListener('mousemove', handleResizeMouseMove);\n      document.addEventListener('mouseup', handleResizeMouseUp);\n    }\n    return () => {\n      document.removeEventListener('mousemove', handleResizeMouseMove);\n      document.removeEventListener('mouseup', handleResizeMouseUp);\n    };\n  }, [isResizing, minWidth, maxWidth, position]);\n  const getPositionStyles = () => {\n    if (position === 'left') {\n      return {\n        left: 0,\n        borderRight: '1px solid #e5e7eb',\n        width: isCollapsed ? 0 : width\n      };\n    } else {\n      return {\n        right: 0,\n        borderLeft: '1px solid #e5e7eb',\n        width: isCollapsed ? 0 : width\n      };\n    }\n  };\n  const getResizeHandleStyles = () => {\n    return {\n      position: 'absolute',\n      top: 0,\n      [position === 'left' ? 'right' : 'left']: -3,\n      width: 6,\n      height: '100%',\n      cursor: 'col-resize',\n      zIndex: 10\n    };\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative h-full\",\n    children: [isCollapsed && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onToggleCollapse,\n      className: \"absolute p-2 rounded-md bg-white dark:bg-gray-800 shadow-md hover:bg-gray-100 dark:hover:bg-gray-700 z-20\",\n      style: {\n        top: '50%',\n        transform: 'translateY(-50%)',\n        [position === 'left' ? 'left' : 'right']: 0\n      },\n      \"aria-label\": `Expand ${position} panel`,\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        className: \"w-5 h-5\",\n        fill: \"none\",\n        stroke: \"currentColor\",\n        viewBox: \"0 0 24 24\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\",\n          strokeWidth: 2,\n          d: position === 'left' ? \"M9 5l7 7-7 7\" : \"M15 19l-7-7 7-7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `h-full bg-white dark:bg-gray-900 overflow-hidden transition-width duration-200 ease-in-out relative`,\n      style: getPositionStyles(),\n      children: [!isCollapsed && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-0 right-0 p-2\",\n        style: {\n          [position === 'left' ? 'right' : 'left']: 0\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onToggleCollapse,\n          className: \"p-1 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700\",\n          \"aria-label\": `Collapse ${position} panel`,\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-5 h-5\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: position === 'left' ? \"M15 19l-7-7 7-7\" : \"M9 5l7 7-7 7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }, this), !isCollapsed && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: getResizeHandleStyles(),\n        onMouseDown: handleResizeMouseDown,\n        className: \"hover:bg-blue-400\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"h-full overflow-y-auto\",\n        children: !isCollapsed && children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 5\n  }, this);\n};\n_s(ResizablePanel, \"Y4BAs+bNCxXM6aHXYSHzfo6JoCA=\");\n_c = ResizablePanel;\nexport default ResizablePanel;\nvar _c;\n$RefreshReg$(_c, \"ResizablePanel\");","map":{"version":3,"names":["React","useRef","useState","useEffect","jsxDEV","_jsxDEV","ResizablePanel","initialWidth","minWidth","maxWidth","position","isCollapsed","onToggleCollapse","children","_s","width","setWidth","isResizing","setIsResizing","resizingRef","handleResizeMouseDown","e","preventDefault","current","startX","clientX","startWidth","handleResizeMouseMove","delta","newWidth","Math","max","min","handleResizeMouseUp","document","addEventListener","removeEventListener","getPositionStyles","left","borderRight","right","borderLeft","getResizeHandleStyles","top","height","cursor","zIndex","className","onClick","style","transform","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","fileName","_jsxFileName","lineNumber","columnNumber","onMouseDown","_c","$RefreshReg$"],"sources":["/home/devbox/project/src/components/features/workspace/resizable-panel.tsx"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\n\n// 定义组件接口\ninterface ResizablePanelProps {\n  initialWidth: number;\n  minWidth?: number;\n  maxWidth?: number;\n  position: 'left' | 'right';\n  isCollapsed: boolean;\n  onToggleCollapse: () => void;\n  children: React.ReactNode;\n}\n\n/**\n * 可调整大小的面板组件\n * \n * 可以通过拖动边缘调整宽度，支持折叠/展开功能\n */\nconst ResizablePanel: React.FC<ResizablePanelProps> = ({\n  initialWidth,\n  minWidth = 200,\n  maxWidth = 600,\n  position,\n  isCollapsed,\n  onToggleCollapse,\n  children\n}) => {\n  const [width, setWidth] = useState(initialWidth);\n  const [isResizing, setIsResizing] = useState(false);\n  const resizingRef = useRef<{ startX: number; startWidth: number } | null>(null);\n  \n  // 处理鼠标按下开始调整大小\n  const handleResizeMouseDown = (e: React.MouseEvent) => {\n    e.preventDefault();\n    setIsResizing(true);\n    resizingRef.current = {\n      startX: e.clientX,\n      startWidth: width\n    };\n  };\n  \n  // 处理调整大小过程中的鼠标移动\n  useEffect(() => {\n    const handleResizeMouseMove = (e: MouseEvent) => {\n      if (!isResizing || !resizingRef.current) return;\n      \n      const delta = position === 'left' \n        ? e.clientX - resizingRef.current.startX \n        : resizingRef.current.startX - e.clientX;\n      \n      const newWidth = Math.max(\n        minWidth,\n        Math.min(maxWidth, resizingRef.current.startWidth + delta)\n      );\n      \n      setWidth(newWidth);\n    };\n    \n    const handleResizeMouseUp = () => {\n      setIsResizing(false);\n      resizingRef.current = null;\n    };\n    \n    if (isResizing) {\n      document.addEventListener('mousemove', handleResizeMouseMove);\n      document.addEventListener('mouseup', handleResizeMouseUp);\n    }\n    \n    return () => {\n      document.removeEventListener('mousemove', handleResizeMouseMove);\n      document.removeEventListener('mouseup', handleResizeMouseUp);\n    };\n  }, [isResizing, minWidth, maxWidth, position]);\n  \n  const getPositionStyles = () => {\n    if (position === 'left') {\n      return {\n        left: 0,\n        borderRight: '1px solid #e5e7eb',\n        width: isCollapsed ? 0 : width\n      };\n    } else {\n      return {\n        right: 0,\n        borderLeft: '1px solid #e5e7eb',\n        width: isCollapsed ? 0 : width\n      };\n    }\n  };\n  \n  const getResizeHandleStyles = () => {\n    return {\n      position: 'absolute',\n      top: 0,\n      [position === 'left' ? 'right' : 'left']: -3,\n      width: 6,\n      height: '100%',\n      cursor: 'col-resize',\n      zIndex: 10\n    } as React.CSSProperties;\n  };\n  \n  return (\n    <div className=\"relative h-full\">\n      {/* 折叠时的展开按钮 - 始终位于外部，确保可见性 */}\n      {isCollapsed && (\n        <button\n          onClick={onToggleCollapse}\n          className=\"absolute p-2 rounded-md bg-white dark:bg-gray-800 shadow-md hover:bg-gray-100 dark:hover:bg-gray-700 z-20\"\n          style={{ \n            top: '50%', \n            transform: 'translateY(-50%)',\n            [position === 'left' ? 'left' : 'right']: 0\n          }}\n          aria-label={`Expand ${position} panel`}\n        >\n          <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path \n              strokeLinecap=\"round\" \n              strokeLinejoin=\"round\" \n              strokeWidth={2} \n              d={position === 'left' ? \"M9 5l7 7-7 7\" : \"M15 19l-7-7 7-7\"} \n            />\n          </svg>\n        </button>\n      )}\n      \n      <div \n        className={`h-full bg-white dark:bg-gray-900 overflow-hidden transition-width duration-200 ease-in-out relative`} \n        style={getPositionStyles()}\n      >\n        {!isCollapsed && (\n          <div \n            className=\"absolute top-0 right-0 p-2\"\n            style={{ [position === 'left' ? 'right' : 'left']: 0 }}\n          >\n            <button\n              onClick={onToggleCollapse}\n              className=\"p-1 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700\"\n              aria-label={`Collapse ${position} panel`}\n            >\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path \n                  strokeLinecap=\"round\" \n                  strokeLinejoin=\"round\" \n                  strokeWidth={2} \n                  d={position === 'left' ? \"M15 19l-7-7 7-7\" : \"M9 5l7 7-7 7\"} \n                />\n              </svg>\n            </button>\n          </div>\n        )}\n        \n        {!isCollapsed && (\n          <div \n            style={getResizeHandleStyles()}\n            onMouseDown={handleResizeMouseDown}\n            className=\"hover:bg-blue-400\"\n          />\n        )}\n        \n        <div className=\"h-full overflow-y-auto\">\n          {!isCollapsed && children}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ResizablePanel; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}