{"ast":null,"code":"var _jsxFileName = \"/home/devbox/project/src/components/features/ai-chat/ai-chat.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Button } from '../../ui/button';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport MessageBubble from './message-bubble';\nimport ThinkingIndicator from './thinking-indicator';\n\n// 定义消息类型\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AIChat = ({\n  initialMessages = [],\n  onSendMessage\n}) => {\n  _s();\n  const [messages, setMessages] = useState(initialMessages);\n  const [inputValue, setInputValue] = useState('');\n  const [status, setStatus] = useState('idle');\n  const messagesEndRef = useRef(null);\n  const inputRef = useRef(null);\n  const [isDarkMode, setIsDarkMode] = useState(false);\n\n  // 自动滚动到最新消息\n  useEffect(() => {\n    if (messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({\n        behavior: 'smooth'\n      });\n    }\n  }, [messages]);\n\n  // 自动调整输入框高度\n  useEffect(() => {\n    if (inputRef.current) {\n      inputRef.current.style.height = 'auto';\n      inputRef.current.style.height = `${Math.min(inputRef.current.scrollHeight, 200)}px`;\n    }\n  }, [inputValue]);\n  const generateId = () => {\n    return Date.now().toString(36) + Math.random().toString(36).substring(2);\n  };\n  const handleSendMessage = async () => {\n    if (!inputValue.trim() || status !== 'idle') return;\n\n    // 创建用户消息\n    const userMessage = {\n      id: generateId(),\n      role: 'user',\n      content: inputValue,\n      timestamp: new Date()\n    };\n\n    // 更新状态并清空输入\n    setMessages(prev => [...prev, userMessage]);\n    setInputValue('');\n    if (inputRef.current) {\n      inputRef.current.style.height = 'auto';\n    }\n    setStatus('thinking');\n    try {\n      // 如果没有提供onSendMessage回调，使用模拟响应\n      const response = onSendMessage ? await onSendMessage(inputValue) : await simulateResponse(inputValue);\n\n      // 添加AI回复\n      const assistantMessage = {\n        id: generateId(),\n        role: 'assistant',\n        content: response,\n        timestamp: new Date()\n      };\n      setMessages(prev => [...prev, assistantMessage]);\n      setStatus('idle');\n    } catch (error) {\n      console.error('Failed to get AI response:', error);\n      setStatus('error');\n\n      // 添加错误消息\n      const errorMessage = {\n        id: generateId(),\n        role: 'system',\n        content: '抱歉，发生了错误。请稍后再试。',\n        timestamp: new Date()\n      };\n      setMessages(prev => [...prev, errorMessage]);\n      setTimeout(() => setStatus('idle'), 3000);\n    }\n  };\n\n  // 模拟AI响应，仅用于演示\n  const simulateResponse = async message => {\n    // 返回模拟的响应\n    return new Promise(resolve => {\n      const responses = [\"我理解你的问题。让我帮你分析一下...\", \"这是一个很好的问题。根据我的分析...\", \"我可以协助你解决这个问题。首先，你需要...\", \"让我思考一下最佳的解决方案。\", \"根据最新的研究和最佳实践，我建议...\"];\n\n      // 模拟网络延迟\n      setTimeout(() => {\n        const randomResponse = responses[Math.floor(Math.random() * responses.length)];\n        resolve(`${randomResponse} 你的问题是关于\"${message}\"的。`);\n      }, 1500);\n    });\n  };\n  const handleKeyDown = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n  const toggleTheme = () => {\n    setIsDarkMode(!isDarkMode);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `flex flex-col h-full ${isDarkMode ? 'bg-gray-900 text-gray-200' : 'bg-white text-gray-800'}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `p-2 flex justify-between items-center border-b ${isDarkMode ? 'border-gray-700' : 'border-gray-200'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `rounded-sm p-1 ${isDarkMode ? 'hover:bg-gray-800' : 'hover:bg-gray-100'}`,\n          onClick: () => setMessages(initialMessages),\n          \"aria-label\": \"\\u6E05\\u9664\\u5BF9\\u8BDD\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-4 h-4\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `rounded-sm p-1 ${isDarkMode ? 'hover:bg-gray-800' : 'hover:bg-gray-100'}`,\n          onClick: toggleTheme,\n          \"aria-label\": isDarkMode ? \"切换到亮色模式\" : \"切换到暗色模式\",\n          children: isDarkMode ? /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-4 h-4\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-4 h-4\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `flex-1 overflow-y-auto p-4 space-y-4 ${isDarkMode ? 'bg-gray-900' : 'bg-gray-50'}`,\n      children: [/*#__PURE__*/_jsxDEV(AnimatePresence, {\n        children: [messages.map(message => /*#__PURE__*/_jsxDEV(motion.div, {\n          initial: {\n            opacity: 0,\n            y: 10\n          },\n          animate: {\n            opacity: 1,\n            y: 0\n          },\n          transition: {\n            duration: 0.3\n          },\n          children: /*#__PURE__*/_jsxDEV(MessageBubble, {\n            message: message,\n            isDarkMode: isDarkMode\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 15\n          }, this)\n        }, message.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 13\n        }, this)), status === 'thinking' && /*#__PURE__*/_jsxDEV(motion.div, {\n          initial: {\n            opacity: 0\n          },\n          animate: {\n            opacity: 1\n          },\n          exit: {\n            opacity: 0\n          },\n          children: /*#__PURE__*/_jsxDEV(ThinkingIndicator, {\n            isDarkMode: isDarkMode\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `p-3 ${isDarkMode ? 'bg-gray-800 border-t border-gray-700' : 'bg-white border-t border-gray-200'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `rounded-lg overflow-hidden border ${isDarkMode ? 'border-gray-700 bg-gray-800' : 'border-gray-300 bg-white'}`,\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          ref: inputRef,\n          value: inputValue,\n          onChange: e => setInputValue(e.target.value),\n          onKeyDown: handleKeyDown,\n          placeholder: \"\\u5411 AI \\u52A9\\u624B\\u63D0\\u95EE...\",\n          disabled: status !== 'idle',\n          className: `w-full px-3 py-2 resize-none outline-none ${isDarkMode ? 'bg-gray-800 text-gray-200 placeholder-gray-500' : 'bg-white text-gray-800 placeholder-gray-400'}`,\n          rows: 1,\n          style: {\n            minHeight: '44px',\n            maxHeight: '200px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `flex justify-between items-center px-3 py-2 ${isDarkMode ? 'bg-gray-800' : 'bg-gray-50'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-500\",\n            children: \"\\u6309 Enter \\u53D1\\u9001\\uFF0CShift+Enter \\u6362\\u884C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleSendMessage,\n            disabled: !inputValue.trim() || status !== 'idle',\n            className: `h-8 px-3 ${isDarkMode ? 'bg-blue-600 hover:bg-blue-700 text-white' : 'bg-blue-600 hover:bg-blue-700 text-white'}`,\n            children: \"\\u53D1\\u9001\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this), status === 'error' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xs text-red-500 mt-1 ml-2\",\n        children: \"\\u53D1\\u9001\\u5931\\u8D25\\uFF0C\\u8BF7\\u91CD\\u8BD5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 5\n  }, this);\n};\n_s(AIChat, \"FJffLgKFJWhSVktOn5AnVC0MxOU=\");\n_c = AIChat;\nexport default AIChat;\nvar _c;\n$RefreshReg$(_c, \"AIChat\");","map":{"version":3,"names":["React","useState","useRef","useEffect","Button","motion","AnimatePresence","MessageBubble","ThinkingIndicator","jsxDEV","_jsxDEV","AIChat","initialMessages","onSendMessage","_s","messages","setMessages","inputValue","setInputValue","status","setStatus","messagesEndRef","inputRef","isDarkMode","setIsDarkMode","current","scrollIntoView","behavior","style","height","Math","min","scrollHeight","generateId","Date","now","toString","random","substring","handleSendMessage","trim","userMessage","id","role","content","timestamp","prev","response","simulateResponse","assistantMessage","error","console","errorMessage","setTimeout","message","Promise","resolve","responses","randomResponse","floor","length","handleKeyDown","e","key","shiftKey","preventDefault","toggleTheme","className","children","onClick","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","fileName","_jsxFileName","lineNumber","columnNumber","map","div","initial","opacity","y","animate","transition","duration","exit","ref","value","onChange","target","onKeyDown","placeholder","disabled","rows","minHeight","maxHeight","_c","$RefreshReg$"],"sources":["/home/devbox/project/src/components/features/ai-chat/ai-chat.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { Button } from '../../ui/button';\nimport { Input } from '../../ui/input';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport MessageBubble from './message-bubble';\nimport ThinkingIndicator from './thinking-indicator';\n\n// 定义消息类型\nexport interface Message {\n  id: string;\n  role: 'user' | 'assistant' | 'system';\n  content: string;\n  timestamp: Date;\n}\n\ninterface AIChatProps {\n  initialMessages?: Message[];\n  onSendMessage?: (message: string) => Promise<string>;\n}\n\nconst AIChat: React.FC<AIChatProps> = ({ \n  initialMessages = [], \n  onSendMessage \n}) => {\n  const [messages, setMessages] = useState<Message[]>(initialMessages);\n  const [inputValue, setInputValue] = useState('');\n  const [status, setStatus] = useState<'idle' | 'thinking' | 'responding' | 'error'>('idle');\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLTextAreaElement>(null);\n  const [isDarkMode, setIsDarkMode] = useState(false);\n\n  // 自动滚动到最新消息\n  useEffect(() => {\n    if (messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({ behavior: 'smooth' });\n    }\n  }, [messages]);\n\n  // 自动调整输入框高度\n  useEffect(() => {\n    if (inputRef.current) {\n      inputRef.current.style.height = 'auto';\n      inputRef.current.style.height = `${Math.min(inputRef.current.scrollHeight, 200)}px`;\n    }\n  }, [inputValue]);\n\n  const generateId = () => {\n    return Date.now().toString(36) + Math.random().toString(36).substring(2);\n  };\n\n  const handleSendMessage = async () => {\n    if (!inputValue.trim() || status !== 'idle') return;\n    \n    // 创建用户消息\n    const userMessage: Message = {\n      id: generateId(),\n      role: 'user',\n      content: inputValue,\n      timestamp: new Date()\n    };\n    \n    // 更新状态并清空输入\n    setMessages(prev => [...prev, userMessage]);\n    setInputValue('');\n    if (inputRef.current) {\n      inputRef.current.style.height = 'auto';\n    }\n    setStatus('thinking');\n    \n    try {\n      // 如果没有提供onSendMessage回调，使用模拟响应\n      const response = onSendMessage \n        ? await onSendMessage(inputValue) \n        : await simulateResponse(inputValue);\n      \n      // 添加AI回复\n      const assistantMessage: Message = {\n        id: generateId(),\n        role: 'assistant',\n        content: response,\n        timestamp: new Date()\n      };\n      \n      setMessages(prev => [...prev, assistantMessage]);\n      setStatus('idle');\n    } catch (error) {\n      console.error('Failed to get AI response:', error);\n      setStatus('error');\n      \n      // 添加错误消息\n      const errorMessage: Message = {\n        id: generateId(),\n        role: 'system',\n        content: '抱歉，发生了错误。请稍后再试。',\n        timestamp: new Date()\n      };\n      \n      setMessages(prev => [...prev, errorMessage]);\n      setTimeout(() => setStatus('idle'), 3000);\n    }\n  };\n\n  // 模拟AI响应，仅用于演示\n  const simulateResponse = async (message: string): Promise<string> => {\n    // 返回模拟的响应\n    return new Promise((resolve) => {\n      const responses = [\n        \"我理解你的问题。让我帮你分析一下...\",\n        \"这是一个很好的问题。根据我的分析...\",\n        \"我可以协助你解决这个问题。首先，你需要...\",\n        \"让我思考一下最佳的解决方案。\",\n        \"根据最新的研究和最佳实践，我建议...\"\n      ];\n      \n      // 模拟网络延迟\n      setTimeout(() => {\n        const randomResponse = responses[Math.floor(Math.random() * responses.length)];\n        resolve(`${randomResponse} 你的问题是关于\"${message}\"的。`);\n      }, 1500);\n    });\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLTextAreaElement>) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  const toggleTheme = () => {\n    setIsDarkMode(!isDarkMode);\n  };\n\n  return (\n    <div className={`flex flex-col h-full ${isDarkMode ? 'bg-gray-900 text-gray-200' : 'bg-white text-gray-800'}`}>\n      {/* 头部操作区 */}\n      <div className={`p-2 flex justify-between items-center border-b ${isDarkMode ? 'border-gray-700' : 'border-gray-200'}`}>\n        <div className=\"flex items-center space-x-2\">\n          <button \n            className={`rounded-sm p-1 ${isDarkMode ? 'hover:bg-gray-800' : 'hover:bg-gray-100'}`}\n            onClick={() => setMessages(initialMessages)}\n            aria-label=\"清除对话\"\n          >\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n            </svg>\n          </button>\n        </div>\n        <div className=\"flex items-center space-x-2\">\n          <button \n            className={`rounded-sm p-1 ${isDarkMode ? 'hover:bg-gray-800' : 'hover:bg-gray-100'}`}\n            onClick={toggleTheme}\n            aria-label={isDarkMode ? \"切换到亮色模式\" : \"切换到暗色模式\"}\n          >\n            {isDarkMode ? (\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z\" />\n              </svg>\n            ) : (\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z\" />\n              </svg>\n            )}\n          </button>\n        </div>\n      </div>\n      \n      {/* 消息历史区域 */}\n      <div className={`flex-1 overflow-y-auto p-4 space-y-4 ${isDarkMode ? 'bg-gray-900' : 'bg-gray-50'}`}>\n        <AnimatePresence>\n          {messages.map((message) => (\n            <motion.div\n              key={message.id}\n              initial={{ opacity: 0, y: 10 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ duration: 0.3 }}\n            >\n              <MessageBubble message={message} isDarkMode={isDarkMode} />\n            </motion.div>\n          ))}\n          \n          {status === 'thinking' && (\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n            >\n              <ThinkingIndicator isDarkMode={isDarkMode} />\n            </motion.div>\n          )}\n        </AnimatePresence>\n        \n        {/* 用于自动滚动的引用元素 */}\n        <div ref={messagesEndRef} />\n      </div>\n      \n      {/* 底部输入区域 - 类似 Cursor 的风格 */}\n      <div className={`p-3 ${isDarkMode ? 'bg-gray-800 border-t border-gray-700' : 'bg-white border-t border-gray-200'}`}>\n        <div className={`rounded-lg overflow-hidden border ${isDarkMode ? 'border-gray-700 bg-gray-800' : 'border-gray-300 bg-white'}`}>\n          <textarea\n            ref={inputRef}\n            value={inputValue}\n            onChange={(e) => setInputValue(e.target.value)}\n            onKeyDown={handleKeyDown}\n            placeholder=\"向 AI 助手提问...\"\n            disabled={status !== 'idle'}\n            className={`w-full px-3 py-2 resize-none outline-none ${\n              isDarkMode ? 'bg-gray-800 text-gray-200 placeholder-gray-500' : 'bg-white text-gray-800 placeholder-gray-400'\n            }`}\n            rows={1}\n            style={{ minHeight: '44px', maxHeight: '200px' }}\n          />\n          <div className={`flex justify-between items-center px-3 py-2 ${isDarkMode ? 'bg-gray-800' : 'bg-gray-50'}`}>\n            <div className=\"text-xs text-gray-500\">按 Enter 发送，Shift+Enter 换行</div>\n            <Button \n              onClick={handleSendMessage}\n              disabled={!inputValue.trim() || status !== 'idle'}\n              className={`h-8 px-3 ${\n                isDarkMode \n                  ? 'bg-blue-600 hover:bg-blue-700 text-white' \n                  : 'bg-blue-600 hover:bg-blue-700 text-white'\n              }`}\n            >\n              发送\n            </Button>\n          </div>\n        </div>\n        {status === 'error' && (\n          <div className=\"text-xs text-red-500 mt-1 ml-2\">发送失败，请重试</div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default AIChat; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}