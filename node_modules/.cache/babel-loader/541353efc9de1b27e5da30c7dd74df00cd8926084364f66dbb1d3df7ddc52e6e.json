{"ast":null,"code":"var _jsxFileName = \"/home/devbox/project/src/pages/workspace-page.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Button } from '../components/ui/button';\nimport AIChat from '../components/features/ai-chat/ai-chat';\nimport CommandPalette from '../components/features/command/command-palette';\nimport { toast } from 'sonner';\n\n// 文件内容类型定义\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WorkspacePage = () => {\n  _s();\n  const [isLeftSidebarCollapsed, setIsLeftSidebarCollapsed] = useState(false);\n  const [isRightSidebarCollapsed, setIsRightSidebarCollapsed] = useState(false);\n  const [rightSidebarWidth, setRightSidebarWidth] = useState(384); // Default width of 96 in rem (w-96)\n  const [isResizing, setIsResizing] = useState(false);\n  const resizingRef = useRef(null);\n  const [isCommandPaletteOpen, setIsCommandPaletteOpen] = useState(false);\n  const [openFiles, setOpenFiles] = useState(['workspace.txt']);\n  const [currentFile, setCurrentFile] = useState('workspace.txt');\n  const [fileContents, setFileContents] = useState({\n    'workspace.txt': `# 任务计划 AI 工作区\n\n这是一个集成式AI工作环境，你可以：\n- 向AI提出关于任务的问题\n- 获取关于任务拆解的建议\n- 使用AI协助管理和优化你的任务计划\n\n## 使用方法\n\n1. 在右侧AI助手中提问\n2. 使用⌘K打开命令面板\n3. 使用@符号引用文件和资源`,\n    'project.json': `{\n  \"name\": \"任务计划\",\n  \"version\": \"1.0.0\",\n  \"description\": \"现代化的任务管理应用\",\n  \"framework\": \"React\",\n  \"components\": {\n    \"plans\": \"src/components/features/plan-tree/plan-tree.tsx\",\n    \"workspace\": \"src/pages/workspace-page.tsx\",\n    \"dashboard\": \"src/pages/dashboard-page.tsx\"\n  }\n}`\n  });\n\n  // 定义可用命令\n  const commands = [{\n    id: 'new-file',\n    name: '新建文件',\n    description: '创建一个新的文件',\n    icon: /*#__PURE__*/_jsxDEV(\"svg\", {\n      className: \"w-5 h-5\",\n      fill: \"none\",\n      stroke: \"currentColor\",\n      viewBox: \"0 0 24 24\",\n      children: /*#__PURE__*/_jsxDEV(\"path\", {\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        strokeWidth: 2,\n        d: \"M12 4v16m8-8H4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this),\n    action: () => {\n      const fileName = prompt('请输入文件名:');\n      if (fileName && !openFiles.includes(fileName)) {\n        setOpenFiles(prev => [...prev, fileName]);\n        setFileContents(prev => ({\n          ...prev,\n          [fileName]: ''\n        }));\n        setCurrentFile(fileName);\n        toast.success(`文件 ${fileName} 已创建`);\n      }\n    }\n  }, {\n    id: 'toggle-left-sidebar',\n    name: '切换左侧栏',\n    description: '显示或隐藏左侧文件栏',\n    icon: /*#__PURE__*/_jsxDEV(\"svg\", {\n      className: \"w-5 h-5\",\n      fill: \"none\",\n      stroke: \"currentColor\",\n      viewBox: \"0 0 24 24\",\n      children: /*#__PURE__*/_jsxDEV(\"path\", {\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        strokeWidth: 2,\n        d: \"M4 6h16M4 12h16M4 18h7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this),\n    action: () => {\n      setIsLeftSidebarCollapsed(!isLeftSidebarCollapsed);\n    }\n  }, {\n    id: 'toggle-right-sidebar',\n    name: '切换AI助手',\n    description: '显示或隐藏右侧AI助手',\n    icon: /*#__PURE__*/_jsxDEV(\"svg\", {\n      className: \"w-5 h-5\",\n      fill: \"none\",\n      stroke: \"currentColor\",\n      viewBox: \"0 0 24 24\",\n      children: /*#__PURE__*/_jsxDEV(\"path\", {\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        strokeWidth: 2,\n        d: \"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }, this),\n    action: () => {\n      setIsRightSidebarCollapsed(!isRightSidebarCollapsed);\n    }\n  }, {\n    id: 'ask-ai',\n    name: '询问AI',\n    description: '直接向AI助手提问',\n    icon: /*#__PURE__*/_jsxDEV(\"svg\", {\n      className: \"w-5 h-5\",\n      fill: \"none\",\n      stroke: \"currentColor\",\n      viewBox: \"0 0 24 24\",\n      children: /*#__PURE__*/_jsxDEV(\"path\", {\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        strokeWidth: 2,\n        d: \"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this),\n    action: () => {\n      setIsRightSidebarCollapsed(false);\n      toast.info('请在AI助手栏中提问');\n    }\n  }, {\n    id: 'go-to-dashboard',\n    name: '返回任务计划',\n    description: '返回到任务计划页面',\n    icon: /*#__PURE__*/_jsxDEV(\"svg\", {\n      className: \"w-5 h-5\",\n      fill: \"none\",\n      stroke: \"currentColor\",\n      viewBox: \"0 0 24 24\",\n      children: /*#__PURE__*/_jsxDEV(\"path\", {\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        strokeWidth: 2,\n        d: \"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }, this),\n    action: () => {\n      window.location.href = '/dashboard';\n    }\n  }];\n\n  // 处理AI消息\n  const handleSendMessage = async (message, references) => {\n    // 模拟AI响应\n    return new Promise(resolve => {\n      setTimeout(() => {\n        let response = '';\n\n        // 根据消息内容模拟不同的响应\n        if (message.toLowerCase().includes('任务拆解')) {\n          response = `我可以帮你拆解任务。一个好的任务拆解应该包含以下几个步骤：\n\n1. 明确任务目标\n2. 将大任务分解为小任务\n3. 评估每个小任务的优先级\n4. 设定每个小任务的完成时间\n5. 分配资源\n\n希望这对你有所帮助！`;\n        } else if (message.toLowerCase().includes('优化')) {\n          response = `要优化你的任务计划，可以考虑以下几点：\n\n1. 使用番茄工作法提高专注度\n2. 建立例行公事，减少决策疲劳\n3. 批量处理同类型的任务\n4. 定期回顾和调整你的计划\n5. 使用自动化工具减少重复工作`;\n        } else if (references && references.length > 0) {\n          // 如果有引用文件，基于文件内容给出响应\n          const fileContent = references.map(file => fileContents[file] || `(无法读取文件 ${file})`).join('\\n\\n');\n          response = `我已分析了你引用的文件。以下是我的发现：\n\n根据文件内容，这是一个使用React框架构建的任务管理应用。主要组件包括计划树(plan-tree)、工作区和仪表盘。\n\n我建议你可以：\n1. 检查组件之间的数据流是否清晰\n2. 确保状态管理逻辑集中且一致\n3. 考虑添加单元测试确保功能稳定性`;\n        } else {\n          response = `我是你的AI助手，可以帮助你:\n\n- 回答关于任务管理的问题\n- 提供任务拆解和优化建议\n- 分析项目文件和代码\n\n你可以尝试询问关于\"任务拆解\"或\"优化\"的问题，或者使用@引用特定文件，我会基于文件内容给你更具体的建议。`;\n        }\n        resolve(response);\n      }, 1500);\n    });\n  };\n\n  // 监听快捷键\n  useEffect(() => {\n    const handleKeyDown = e => {\n      // 检查Cmd+K或Ctrl+K\n      if ((e.metaKey || e.ctrlKey) && e.key === 'k') {\n        e.preventDefault();\n        setIsCommandPaletteOpen(true);\n      }\n    };\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, []);\n\n  // 处理拖拽调整宽度\n  const handleResizeMouseDown = e => {\n    e.preventDefault();\n    setIsResizing(true);\n    resizingRef.current = {\n      startX: e.clientX,\n      startWidth: rightSidebarWidth\n    };\n  };\n  useEffect(() => {\n    const handleResizeMouseMove = e => {\n      if (!isResizing || !resizingRef.current) return;\n      const delta = resizingRef.current.startX - e.clientX;\n      const newWidth = Math.max(280, Math.min(800, resizingRef.current.startWidth + delta));\n      setRightSidebarWidth(newWidth);\n    };\n    const handleResizeMouseUp = () => {\n      setIsResizing(false);\n      resizingRef.current = null;\n    };\n    if (isResizing) {\n      document.addEventListener('mousemove', handleResizeMouseMove);\n      document.addEventListener('mouseup', handleResizeMouseUp);\n    }\n    return () => {\n      document.removeEventListener('mousemove', handleResizeMouseMove);\n      document.removeEventListener('mouseup', handleResizeMouseUp);\n    };\n  }, [isResizing]);\n\n  // 渲染行号和文本内容\n  const renderFileContent = content => {\n    const lines = content.split('\\n');\n    return lines.map((line, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-gray-400 w-10 text-right pr-4 select-none\",\n        children: index + 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: line\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }, this));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-screen flex flex-col bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"bg-white border-b border-gray-200 sticky top-0 z-10\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto flex justify-between items-center px-4 py-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-600 text-white h-8 w-8 rounded flex items-center justify-center font-bold\",\n            children: \"L\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold text-lg\",\n            children: \"Linden AI\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hidden sm:flex flex-1 max-w-md mx-8\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative w-full bg-gray-50 border border-gray-200 rounded-md flex items-center px-3 cursor-pointer\",\n            onClick: () => setIsCommandPaletteOpen(true),\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"h-5 w-5 text-gray-400\",\n              fill: \"none\",\n              viewBox: \"0 0 24 24\",\n              stroke: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full py-2 px-2 text-gray-400 text-sm\",\n              children: \"\\u641C\\u7D22\\u6216\\u4F7F\\u7528\\u547D\\u4EE4...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-gray-400 bg-gray-100 px-1.5 py-0.5 rounded\",\n              children: \"\\u2318K\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"ghost\",\n            size: \"sm\",\n            className: \"text-gray-700\",\n            children: \"EN\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline\",\n            className: \"border-blue-600 text-blue-600 hover:bg-blue-50\",\n            onClick: () => window.location.href = '/dashboard',\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-5 h-5 mr-1\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 15\n            }, this), \"\\u8FD4\\u56DE\\u4EFB\\u52A1\\u8BA1\\u5212\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"h-8 w-8 rounded-full bg-blue-600 text-white flex items-center justify-center cursor-pointer\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"U\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `bg-gray-800 text-white flex flex-col ${isLeftSidebarCollapsed ? 'w-14' : 'w-64'} transition-all duration-300 border-r border-gray-700`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between p-4 border-b border-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: `font-medium ${isLeftSidebarCollapsed ? 'hidden' : 'block'}`,\n            children: \"\\u6587\\u4EF6\\u6D4F\\u89C8\\u5668\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setIsLeftSidebarCollapsed(!isLeftSidebarCollapsed),\n            className: \"text-gray-400 hover:text-white\",\n            children: isLeftSidebarCollapsed ? /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-5 h-5\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M13 5l7 7-7 7M5 5l7 7-7 7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-5 h-5\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M11 19l-7-7 7-7m8 14l-7-7 7-7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 overflow-auto p-2\",\n          children: !isLeftSidebarCollapsed && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"py-2\",\n            children: Object.keys(fileContents).map(fileName => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `flex items-center ${fileName === currentFile ? 'text-white bg-gray-700' : 'text-gray-300 hover:text-white'} py-1 px-2 rounded hover:bg-gray-700 cursor-pointer`,\n              onClick: () => {\n                if (!openFiles.includes(fileName)) {\n                  setOpenFiles(prev => [...prev, fileName]);\n                }\n                setCurrentFile(fileName);\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-5 h-5 mr-2\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: fileName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 21\n              }, this)]\n            }, fileName, true, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 overflow-auto bg-white flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center border-b border-gray-200 h-10 bg-gray-50\",\n          children: openFiles.map(file => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `flex items-center px-4 py-1 border-r border-gray-200 text-gray-600 text-sm font-medium cursor-pointer ${file === currentFile ? 'bg-white border-b-2 border-b-blue-500' : 'hover:bg-gray-100'}`,\n            onClick: () => setCurrentFile(file),\n            children: [file, /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"ml-2 text-gray-400 hover:text-gray-600\",\n              onClick: e => {\n                e.stopPropagation();\n                if (openFiles.length > 1) {\n                  setOpenFiles(prev => prev.filter(f => f !== file));\n                  if (currentFile === file) {\n                    setCurrentFile(openFiles.find(f => f !== file) || '');\n                  }\n                }\n              },\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-4 h-4\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M6 18L18 6M6 6l12 12\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 369,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 17\n            }, this)]\n          }, file, true, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 overflow-auto p-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"max-w-4xl mx-auto\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-mono text-sm text-gray-800 whitespace-pre-wrap\",\n              children: currentFile && fileContents[currentFile] ? renderFileContent(fileContents[currentFile]) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-gray-400 text-center py-10\",\n                children: \"\\u6CA1\\u6709\\u6253\\u5F00\\u7684\\u6587\\u4EF6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 9\n      }, this), !isRightSidebarCollapsed && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `w-1.5 hover:bg-blue-300 cursor-col-resize relative ${isResizing ? 'bg-blue-400' : 'bg-transparent'}`,\n        onMouseDown: handleResizeMouseDown,\n        \"aria-label\": \"\\u8C03\\u6574\\u804A\\u5929\\u7A97\\u53E3\\u5927\\u5C0F\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute inset-y-0 -left-1 -right-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `bg-white border-l border-gray-200 flex flex-col ${isRightSidebarCollapsed ? 'w-14' : ''} ${isResizing ? '' : 'transition-all duration-300'}`,\n        style: {\n          width: isRightSidebarCollapsed ? undefined : `${rightSidebarWidth}px`\n        },\n        children: [!isRightSidebarCollapsed && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 overflow-hidden\",\n          children: /*#__PURE__*/_jsxDEV(AIChat, {\n            initialMessages: [{\n              id: '1',\n              role: 'system',\n              content: '您好！我是AI助手，有什么我可以帮助您的吗？您可以使用@引用文件，也可以切换智能体模式和对话模式，或者选择不同的AI模型。',\n              timestamp: new Date()\n            }],\n            onSendMessage: handleSendMessage,\n            onClose: () => setIsRightSidebarCollapsed(true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 13\n        }, this), isRightSidebarCollapsed && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-full flex flex-col items-center pt-4\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"text-blue-600 hover:text-blue-800\",\n            onClick: () => setIsRightSidebarCollapsed(false),\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-6 h-6\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CommandPalette, {\n      isOpen: isCommandPaletteOpen,\n      onClose: () => setIsCommandPaletteOpen(false),\n      commands: commands\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 239,\n    columnNumber: 5\n  }, this);\n};\n_s(WorkspacePage, \"DAgfmUs2iA3GiYGDQ/dE0rJFWhk=\");\n_c = WorkspacePage;\nexport default WorkspacePage;\nvar _c;\n$RefreshReg$(_c, \"WorkspacePage\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Button","AIChat","CommandPalette","toast","jsxDEV","_jsxDEV","WorkspacePage","_s","isLeftSidebarCollapsed","setIsLeftSidebarCollapsed","isRightSidebarCollapsed","setIsRightSidebarCollapsed","rightSidebarWidth","setRightSidebarWidth","isResizing","setIsResizing","resizingRef","isCommandPaletteOpen","setIsCommandPaletteOpen","openFiles","setOpenFiles","currentFile","setCurrentFile","fileContents","setFileContents","commands","id","name","description","icon","className","fill","stroke","viewBox","children","strokeLinecap","strokeLinejoin","strokeWidth","d","fileName","_jsxFileName","lineNumber","columnNumber","action","prompt","includes","prev","success","info","window","location","href","handleSendMessage","message","references","Promise","resolve","setTimeout","response","toLowerCase","length","fileContent","map","file","join","handleKeyDown","e","metaKey","ctrlKey","key","preventDefault","addEventListener","removeEventListener","handleResizeMouseDown","current","startX","clientX","startWidth","handleResizeMouseMove","delta","newWidth","Math","max","min","handleResizeMouseUp","document","renderFileContent","content","lines","split","line","index","onClick","variant","size","Object","keys","stopPropagation","filter","f","find","onMouseDown","style","width","undefined","initialMessages","role","timestamp","Date","onSendMessage","onClose","isOpen","_c","$RefreshReg$"],"sources":["/home/devbox/project/src/pages/workspace-page.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { Button } from '../components/ui/button';\nimport AIChat, { Message } from '../components/features/ai-chat/ai-chat';\nimport CommandPalette from '../components/features/command/command-palette';\nimport { toast } from 'sonner';\n\n// 文件内容类型定义\ninterface FileContents {\n  [key: string]: string;\n}\n\nconst WorkspacePage: React.FC = () => {\n  const [isLeftSidebarCollapsed, setIsLeftSidebarCollapsed] = useState(false);\n  const [isRightSidebarCollapsed, setIsRightSidebarCollapsed] = useState(false);\n  const [rightSidebarWidth, setRightSidebarWidth] = useState(384); // Default width of 96 in rem (w-96)\n  const [isResizing, setIsResizing] = useState(false);\n  const resizingRef = useRef<{ startX: number; startWidth: number } | null>(null);\n  const [isCommandPaletteOpen, setIsCommandPaletteOpen] = useState(false);\n  const [openFiles, setOpenFiles] = useState(['workspace.txt']);\n  const [currentFile, setCurrentFile] = useState('workspace.txt');\n  const [fileContents, setFileContents] = useState<FileContents>({\n    'workspace.txt': `# 任务计划 AI 工作区\n\n这是一个集成式AI工作环境，你可以：\n- 向AI提出关于任务的问题\n- 获取关于任务拆解的建议\n- 使用AI协助管理和优化你的任务计划\n\n## 使用方法\n\n1. 在右侧AI助手中提问\n2. 使用⌘K打开命令面板\n3. 使用@符号引用文件和资源`,\n    'project.json': `{\n  \"name\": \"任务计划\",\n  \"version\": \"1.0.0\",\n  \"description\": \"现代化的任务管理应用\",\n  \"framework\": \"React\",\n  \"components\": {\n    \"plans\": \"src/components/features/plan-tree/plan-tree.tsx\",\n    \"workspace\": \"src/pages/workspace-page.tsx\",\n    \"dashboard\": \"src/pages/dashboard-page.tsx\"\n  }\n}`\n  });\n\n  // 定义可用命令\n  const commands = [\n    {\n      id: 'new-file',\n      name: '新建文件',\n      description: '创建一个新的文件',\n      icon: (\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n        </svg>\n      ),\n      action: () => {\n        const fileName = prompt('请输入文件名:');\n        if (fileName && !openFiles.includes(fileName)) {\n          setOpenFiles(prev => [...prev, fileName]);\n          setFileContents(prev => ({\n            ...prev,\n            [fileName]: ''\n          }));\n          setCurrentFile(fileName);\n          toast.success(`文件 ${fileName} 已创建`);\n        }\n      }\n    },\n    {\n      id: 'toggle-left-sidebar',\n      name: '切换左侧栏',\n      description: '显示或隐藏左侧文件栏',\n      icon: (\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h7\" />\n        </svg>\n      ),\n      action: () => {\n        setIsLeftSidebarCollapsed(!isLeftSidebarCollapsed);\n      }\n    },\n    {\n      id: 'toggle-right-sidebar',\n      name: '切换AI助手',\n      description: '显示或隐藏右侧AI助手',\n      icon: (\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z\" />\n        </svg>\n      ),\n      action: () => {\n        setIsRightSidebarCollapsed(!isRightSidebarCollapsed);\n      }\n    },\n    {\n      id: 'ask-ai',\n      name: '询问AI',\n      description: '直接向AI助手提问',\n      icon: (\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\" />\n        </svg>\n      ),\n      action: () => {\n        setIsRightSidebarCollapsed(false);\n        toast.info('请在AI助手栏中提问');\n      }\n    },\n    {\n      id: 'go-to-dashboard',\n      name: '返回任务计划',\n      description: '返回到任务计划页面',\n      icon: (\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\" />\n        </svg>\n      ),\n      action: () => {\n        window.location.href = '/dashboard';\n      }\n    }\n  ];\n\n  // 处理AI消息\n  const handleSendMessage = async (message: string, references?: string[]): Promise<string> => {\n    // 模拟AI响应\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        let response = '';\n        \n        // 根据消息内容模拟不同的响应\n        if (message.toLowerCase().includes('任务拆解')) {\n          response = `我可以帮你拆解任务。一个好的任务拆解应该包含以下几个步骤：\n\n1. 明确任务目标\n2. 将大任务分解为小任务\n3. 评估每个小任务的优先级\n4. 设定每个小任务的完成时间\n5. 分配资源\n\n希望这对你有所帮助！`;\n        } else if (message.toLowerCase().includes('优化')) {\n          response = `要优化你的任务计划，可以考虑以下几点：\n\n1. 使用番茄工作法提高专注度\n2. 建立例行公事，减少决策疲劳\n3. 批量处理同类型的任务\n4. 定期回顾和调整你的计划\n5. 使用自动化工具减少重复工作`;\n        } else if (references && references.length > 0) {\n          // 如果有引用文件，基于文件内容给出响应\n          const fileContent = references.map(file => fileContents[file] || `(无法读取文件 ${file})`).join('\\n\\n');\n          response = `我已分析了你引用的文件。以下是我的发现：\n\n根据文件内容，这是一个使用React框架构建的任务管理应用。主要组件包括计划树(plan-tree)、工作区和仪表盘。\n\n我建议你可以：\n1. 检查组件之间的数据流是否清晰\n2. 确保状态管理逻辑集中且一致\n3. 考虑添加单元测试确保功能稳定性`;\n        } else {\n          response = `我是你的AI助手，可以帮助你:\n\n- 回答关于任务管理的问题\n- 提供任务拆解和优化建议\n- 分析项目文件和代码\n\n你可以尝试询问关于\"任务拆解\"或\"优化\"的问题，或者使用@引用特定文件，我会基于文件内容给你更具体的建议。`;\n        }\n        \n        resolve(response);\n      }, 1500);\n    });\n  };\n\n  // 监听快捷键\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      // 检查Cmd+K或Ctrl+K\n      if ((e.metaKey || e.ctrlKey) && e.key === 'k') {\n        e.preventDefault();\n        setIsCommandPaletteOpen(true);\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, []);\n\n  // 处理拖拽调整宽度\n  const handleResizeMouseDown = (e: React.MouseEvent) => {\n    e.preventDefault();\n    setIsResizing(true);\n    resizingRef.current = {\n      startX: e.clientX,\n      startWidth: rightSidebarWidth\n    };\n  };\n\n  useEffect(() => {\n    const handleResizeMouseMove = (e: MouseEvent) => {\n      if (!isResizing || !resizingRef.current) return;\n      \n      const delta = resizingRef.current.startX - e.clientX;\n      const newWidth = Math.max(280, Math.min(800, resizingRef.current.startWidth + delta));\n      setRightSidebarWidth(newWidth);\n    };\n\n    const handleResizeMouseUp = () => {\n      setIsResizing(false);\n      resizingRef.current = null;\n    };\n\n    if (isResizing) {\n      document.addEventListener('mousemove', handleResizeMouseMove);\n      document.addEventListener('mouseup', handleResizeMouseUp);\n    }\n\n    return () => {\n      document.removeEventListener('mousemove', handleResizeMouseMove);\n      document.removeEventListener('mouseup', handleResizeMouseUp);\n    };\n  }, [isResizing]);\n\n  // 渲染行号和文本内容\n  const renderFileContent = (content: string) => {\n    const lines = content.split('\\n');\n    return lines.map((line, index) => (\n      <div key={index} className=\"flex\">\n        <div className=\"text-gray-400 w-10 text-right pr-4 select-none\">{index + 1}</div>\n        <div>{line}</div>\n      </div>\n    ));\n  };\n\n  return (\n    <div className=\"h-screen flex flex-col bg-gray-50\">\n      {/* 顶部导航栏 - 统一风格与dashboard-page */}\n      <header className=\"bg-white border-b border-gray-200 sticky top-0 z-10\">\n        <div className=\"max-w-7xl mx-auto flex justify-between items-center px-4 py-3\">\n          {/* 左侧Logo区域 */}\n          <div className=\"flex items-center space-x-2\">\n            <div className=\"bg-blue-600 text-white h-8 w-8 rounded flex items-center justify-center font-bold\">\n              L\n            </div>\n            <span className=\"font-semibold text-lg\">Linden AI</span>\n          </div>\n          \n          {/* 中间搜索栏 */}\n          <div className=\"hidden sm:flex flex-1 max-w-md mx-8\">\n            <div \n              className=\"relative w-full bg-gray-50 border border-gray-200 rounded-md flex items-center px-3 cursor-pointer\"\n              onClick={() => setIsCommandPaletteOpen(true)}\n            >\n              <svg className=\"h-5 w-5 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n              </svg>\n              <div className=\"w-full py-2 px-2 text-gray-400 text-sm\">\n                搜索或使用命令...\n              </div>\n              <div className=\"text-xs text-gray-400 bg-gray-100 px-1.5 py-0.5 rounded\">⌘K</div>\n            </div>\n          </div>\n          \n          {/* 右侧功能区 */}\n          <div className=\"flex items-center space-x-3\">\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              className=\"text-gray-700\"\n            >\n              EN\n            </Button>\n\n            <Button\n              variant=\"outline\"\n              className=\"border-blue-600 text-blue-600 hover:bg-blue-50\"\n              onClick={() => window.location.href = '/dashboard'}\n            >\n              <svg className=\"w-5 h-5 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\" />\n              </svg>\n              返回任务计划\n            </Button>\n\n            <div className=\"h-8 w-8 rounded-full bg-blue-600 text-white flex items-center justify-center cursor-pointer\">\n              <span>U</span>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* 主体内容 */}\n      <div className=\"flex-1 flex overflow-hidden\">\n        {/* 左侧边栏 - 文件浏览 */}\n        <div className={`bg-gray-800 text-white flex flex-col ${isLeftSidebarCollapsed ? 'w-14' : 'w-64'} transition-all duration-300 border-r border-gray-700`}>\n          <div className=\"flex items-center justify-between p-4 border-b border-gray-700\">\n            <h2 className={`font-medium ${isLeftSidebarCollapsed ? 'hidden' : 'block'}`}>文件浏览器</h2>\n            <button \n              onClick={() => setIsLeftSidebarCollapsed(!isLeftSidebarCollapsed)}\n              className=\"text-gray-400 hover:text-white\"\n            >\n              {isLeftSidebarCollapsed ? (\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 5l7 7-7 7M5 5l7 7-7 7\" />\n                </svg>\n              ) : (\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 19l-7-7 7-7m8 14l-7-7 7-7\" />\n                </svg>\n              )}\n            </button>\n          </div>\n          \n          {/* 文件树组件 */}\n          <div className=\"flex-1 overflow-auto p-2\">\n            {!isLeftSidebarCollapsed && (\n              <div className=\"py-2\">\n                {Object.keys(fileContents).map(fileName => (\n                  <div \n                    key={fileName}\n                    className={`flex items-center ${fileName === currentFile ? 'text-white bg-gray-700' : 'text-gray-300 hover:text-white'} py-1 px-2 rounded hover:bg-gray-700 cursor-pointer`}\n                    onClick={() => {\n                      if (!openFiles.includes(fileName)) {\n                        setOpenFiles(prev => [...prev, fileName]);\n                      }\n                      setCurrentFile(fileName);\n                    }}\n                  >\n                    <svg className=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\" />\n                    </svg>\n                    <span>{fileName}</span>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* 中央工作区 - Cursor风格 */}\n        <div className=\"flex-1 overflow-auto bg-white flex flex-col\">\n          {/* 工作区顶部标签栏 */}\n          <div className=\"flex items-center border-b border-gray-200 h-10 bg-gray-50\">\n            {openFiles.map(file => (\n              <div \n                key={file}\n                className={`flex items-center px-4 py-1 border-r border-gray-200 text-gray-600 text-sm font-medium cursor-pointer ${\n                  file === currentFile ? 'bg-white border-b-2 border-b-blue-500' : 'hover:bg-gray-100'\n                }`}\n                onClick={() => setCurrentFile(file)}\n              >\n                {file}\n                <button \n                  className=\"ml-2 text-gray-400 hover:text-gray-600\"\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    if (openFiles.length > 1) {\n                      setOpenFiles(prev => prev.filter(f => f !== file));\n                      if (currentFile === file) {\n                        setCurrentFile(openFiles.find(f => f !== file) || '');\n                      }\n                    }\n                  }}\n                >\n                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                  </svg>\n                </button>\n              </div>\n            ))}\n          </div>\n          \n          {/* 编辑区域 */}\n          <div className=\"flex-1 overflow-auto p-6\">\n            <div className=\"max-w-4xl mx-auto\">\n              <div className=\"font-mono text-sm text-gray-800 whitespace-pre-wrap\">\n                {currentFile && fileContents[currentFile] ? \n                  renderFileContent(fileContents[currentFile]) : \n                  <div className=\"text-gray-400 text-center py-10\">没有打开的文件</div>\n                }\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* 可调整大小的分割线 */}\n        {!isRightSidebarCollapsed && (\n          <div \n            className={`w-1.5 hover:bg-blue-300 cursor-col-resize relative ${isResizing ? 'bg-blue-400' : 'bg-transparent'}`}\n            onMouseDown={handleResizeMouseDown}\n            aria-label=\"调整聊天窗口大小\"\n          >\n            <div className=\"absolute inset-y-0 -left-1 -right-1\" />\n          </div>\n        )}\n\n        {/* 右侧边栏 - AI助手 (Cursor风格) */}\n        <div \n          className={`bg-white border-l border-gray-200 flex flex-col ${\n            isRightSidebarCollapsed ? 'w-14' : ''\n          } ${isResizing ? '' : 'transition-all duration-300'}`}\n          style={{ width: isRightSidebarCollapsed ? undefined : `${rightSidebarWidth}px` }}\n        >\n          {!isRightSidebarCollapsed && (\n            <div className=\"flex-1 overflow-hidden\">\n              <AIChat \n                initialMessages={[\n                  {\n                    id: '1',\n                    role: 'system',\n                    content: '您好！我是AI助手，有什么我可以帮助您的吗？您可以使用@引用文件，也可以切换智能体模式和对话模式，或者选择不同的AI模型。',\n                    timestamp: new Date()\n                  }\n                ]}\n                onSendMessage={handleSendMessage}\n                onClose={() => setIsRightSidebarCollapsed(true)}\n              />\n            </div>\n          )}\n          \n          {isRightSidebarCollapsed && (\n            <div className=\"h-full flex flex-col items-center pt-4\">\n              <button \n                className=\"text-blue-600 hover:text-blue-800\"\n                onClick={() => setIsRightSidebarCollapsed(false)}\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z\" />\n                </svg>\n              </button>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* 命令面板 */}\n      <CommandPalette \n        isOpen={isCommandPaletteOpen}\n        onClose={() => setIsCommandPaletteOpen(false)}\n        commands={commands}\n      />\n    </div>\n  );\n};\n\nexport default WorkspacePage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}