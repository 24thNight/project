{"ast":null,"code":"var _jsxFileName = \"/home/devbox/project/src/components/features/workspace/resizable-panel.tsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState, useEffect } from 'react';\n\n// 定义组件接口\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n/**\n * 可调整大小的面板组件\n * \n * 可以通过拖动边缘调整宽度，支持折叠/展开功能\n */\nconst ResizablePanel = ({\n  initialWidth,\n  minWidth = 200,\n  maxWidth = 600,\n  position,\n  isCollapsed,\n  onToggleCollapse,\n  children\n}) => {\n  _s();\n  const [width, setWidth] = useState(initialWidth);\n  const [isResizing, setIsResizing] = useState(false);\n  const resizingRef = useRef(null);\n\n  // 处理鼠标按下开始调整大小\n  const handleResizeMouseDown = e => {\n    e.preventDefault();\n    setIsResizing(true);\n    resizingRef.current = {\n      startX: e.clientX,\n      startWidth: width\n    };\n  };\n\n  // 处理调整大小过程中的鼠标移动\n  useEffect(() => {\n    const handleResizeMouseMove = e => {\n      if (!isResizing || !resizingRef.current) return;\n      const delta = position === 'left' ? e.clientX - resizingRef.current.startX : resizingRef.current.startX - e.clientX;\n      const newWidth = Math.max(minWidth, Math.min(maxWidth, resizingRef.current.startWidth + delta));\n      setWidth(newWidth);\n    };\n    const handleResizeMouseUp = () => {\n      setIsResizing(false);\n      resizingRef.current = null;\n    };\n    if (isResizing) {\n      document.addEventListener('mousemove', handleResizeMouseMove);\n      document.addEventListener('mouseup', handleResizeMouseUp);\n    }\n    return () => {\n      document.removeEventListener('mousemove', handleResizeMouseMove);\n      document.removeEventListener('mouseup', handleResizeMouseUp);\n    };\n  }, [isResizing, minWidth, maxWidth, position]);\n  const getPositionStyles = () => {\n    if (position === 'left') {\n      return {\n        left: 0,\n        borderRight: '1px solid #e5e7eb',\n        width: isCollapsed ? 0 : width\n      };\n    } else {\n      return {\n        right: 0,\n        borderLeft: '1px solid #e5e7eb',\n        width: isCollapsed ? 0 : width\n      };\n    }\n  };\n  const getResizeHandleStyles = () => {\n    return {\n      position: 'absolute',\n      top: 0,\n      [position === 'left' ? 'right' : 'left']: -3,\n      width: 6,\n      height: '100%',\n      cursor: 'col-resize',\n      zIndex: 10\n    };\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `h-full bg-white dark:bg-gray-900 overflow-hidden transition-width duration-200 ease-in-out relative`,\n    style: getPositionStyles(),\n    children: [!isCollapsed && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute top-0 right-0 p-2\",\n      style: {\n        [position === 'left' ? 'right' : 'left']: 0\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onToggleCollapse,\n        className: \"p-1 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700\",\n        \"aria-label\": `Collapse ${position} panel`,\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-5 h-5\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: position === 'left' ? \"M15 19l-7-7 7-7\" : \"M9 5l7 7-7 7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }, this), !isCollapsed && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: getResizeHandleStyles(),\n      onMouseDown: handleResizeMouseDown,\n      className: \"hover:bg-blue-400\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }, this), isCollapsed && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onToggleCollapse,\n      className: \"absolute p-2 rounded-md bg-white dark:bg-gray-800 shadow-md hover:bg-gray-100 dark:hover:bg-gray-700\",\n      style: {\n        top: '50%',\n        transform: 'translateY(-50%)',\n        [position === 'left' ? 'left' : 'right']: 4\n      },\n      \"aria-label\": `Expand ${position} panel`,\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        className: \"w-5 h-5\",\n        fill: \"none\",\n        stroke: \"currentColor\",\n        viewBox: \"0 0 24 24\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\",\n          strokeWidth: 2,\n          d: position === 'left' ? \"M9 5l7 7-7 7\" : \"M15 19l-7-7 7-7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-full overflow-y-auto\",\n      children: !isCollapsed && children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 5\n  }, this);\n};\n_s(ResizablePanel, \"Y4BAs+bNCxXM6aHXYSHzfo6JoCA=\");\n_c = ResizablePanel;\nexport default ResizablePanel;\nvar _c;\n$RefreshReg$(_c, \"ResizablePanel\");","map":{"version":3,"names":["React","useRef","useState","useEffect","jsxDEV","_jsxDEV","ResizablePanel","initialWidth","minWidth","maxWidth","position","isCollapsed","onToggleCollapse","children","_s","width","setWidth","isResizing","setIsResizing","resizingRef","handleResizeMouseDown","e","preventDefault","current","startX","clientX","startWidth","handleResizeMouseMove","delta","newWidth","Math","max","min","handleResizeMouseUp","document","addEventListener","removeEventListener","getPositionStyles","left","borderRight","right","borderLeft","getResizeHandleStyles","top","height","cursor","zIndex","className","style","onClick","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","fileName","_jsxFileName","lineNumber","columnNumber","onMouseDown","transform","_c","$RefreshReg$"],"sources":["/home/devbox/project/src/components/features/workspace/resizable-panel.tsx"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\n\n// 定义组件接口\ninterface ResizablePanelProps {\n  initialWidth: number;\n  minWidth?: number;\n  maxWidth?: number;\n  position: 'left' | 'right';\n  isCollapsed: boolean;\n  onToggleCollapse: () => void;\n  children: React.ReactNode;\n}\n\n/**\n * 可调整大小的面板组件\n * \n * 可以通过拖动边缘调整宽度，支持折叠/展开功能\n */\nconst ResizablePanel: React.FC<ResizablePanelProps> = ({\n  initialWidth,\n  minWidth = 200,\n  maxWidth = 600,\n  position,\n  isCollapsed,\n  onToggleCollapse,\n  children\n}) => {\n  const [width, setWidth] = useState(initialWidth);\n  const [isResizing, setIsResizing] = useState(false);\n  const resizingRef = useRef<{ startX: number; startWidth: number } | null>(null);\n  \n  // 处理鼠标按下开始调整大小\n  const handleResizeMouseDown = (e: React.MouseEvent) => {\n    e.preventDefault();\n    setIsResizing(true);\n    resizingRef.current = {\n      startX: e.clientX,\n      startWidth: width\n    };\n  };\n  \n  // 处理调整大小过程中的鼠标移动\n  useEffect(() => {\n    const handleResizeMouseMove = (e: MouseEvent) => {\n      if (!isResizing || !resizingRef.current) return;\n      \n      const delta = position === 'left' \n        ? e.clientX - resizingRef.current.startX \n        : resizingRef.current.startX - e.clientX;\n      \n      const newWidth = Math.max(\n        minWidth,\n        Math.min(maxWidth, resizingRef.current.startWidth + delta)\n      );\n      \n      setWidth(newWidth);\n    };\n    \n    const handleResizeMouseUp = () => {\n      setIsResizing(false);\n      resizingRef.current = null;\n    };\n    \n    if (isResizing) {\n      document.addEventListener('mousemove', handleResizeMouseMove);\n      document.addEventListener('mouseup', handleResizeMouseUp);\n    }\n    \n    return () => {\n      document.removeEventListener('mousemove', handleResizeMouseMove);\n      document.removeEventListener('mouseup', handleResizeMouseUp);\n    };\n  }, [isResizing, minWidth, maxWidth, position]);\n  \n  const getPositionStyles = () => {\n    if (position === 'left') {\n      return {\n        left: 0,\n        borderRight: '1px solid #e5e7eb',\n        width: isCollapsed ? 0 : width\n      };\n    } else {\n      return {\n        right: 0,\n        borderLeft: '1px solid #e5e7eb',\n        width: isCollapsed ? 0 : width\n      };\n    }\n  };\n  \n  const getResizeHandleStyles = () => {\n    return {\n      position: 'absolute',\n      top: 0,\n      [position === 'left' ? 'right' : 'left']: -3,\n      width: 6,\n      height: '100%',\n      cursor: 'col-resize',\n      zIndex: 10\n    } as React.CSSProperties;\n  };\n  \n  return (\n    <div \n      className={`h-full bg-white dark:bg-gray-900 overflow-hidden transition-width duration-200 ease-in-out relative`} \n      style={getPositionStyles()}\n    >\n      {!isCollapsed && (\n        <div \n          className=\"absolute top-0 right-0 p-2\"\n          style={{ [position === 'left' ? 'right' : 'left']: 0 }}\n        >\n          <button\n            onClick={onToggleCollapse}\n            className=\"p-1 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700\"\n            aria-label={`Collapse ${position} panel`}\n          >\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path \n                strokeLinecap=\"round\" \n                strokeLinejoin=\"round\" \n                strokeWidth={2} \n                d={position === 'left' ? \"M15 19l-7-7 7-7\" : \"M9 5l7 7-7 7\"} \n              />\n            </svg>\n          </button>\n        </div>\n      )}\n      \n      {!isCollapsed && (\n        <div \n          style={getResizeHandleStyles()}\n          onMouseDown={handleResizeMouseDown}\n          className=\"hover:bg-blue-400\"\n        />\n      )}\n      \n      {isCollapsed && (\n        <button\n          onClick={onToggleCollapse}\n          className=\"absolute p-2 rounded-md bg-white dark:bg-gray-800 shadow-md hover:bg-gray-100 dark:hover:bg-gray-700\"\n          style={{ \n            top: '50%', \n            transform: 'translateY(-50%)',\n            [position === 'left' ? 'left' : 'right']: 4\n          }}\n          aria-label={`Expand ${position} panel`}\n        >\n          <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path \n              strokeLinecap=\"round\" \n              strokeLinejoin=\"round\" \n              strokeWidth={2} \n              d={position === 'left' ? \"M9 5l7 7-7 7\" : \"M15 19l-7-7 7-7\"} \n            />\n          </svg>\n        </button>\n      )}\n      \n      <div className=\"h-full overflow-y-auto\">\n        {!isCollapsed && children}\n      </div>\n    </div>\n  );\n};\n\nexport default ResizablePanel; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;;AAE1D;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAWA;AACA;AACA;AACA;AACA;AACA,MAAMC,cAA6C,GAAGA,CAAC;EACrDC,YAAY;EACZC,QAAQ,GAAG,GAAG;EACdC,QAAQ,GAAG,GAAG;EACdC,QAAQ;EACRC,WAAW;EACXC,gBAAgB;EAChBC;AACF,CAAC,KAAK;EAAAC,EAAA;EACJ,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGd,QAAQ,CAACK,YAAY,CAAC;EAChD,MAAM,CAACU,UAAU,EAAEC,aAAa,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAMiB,WAAW,GAAGlB,MAAM,CAAgD,IAAI,CAAC;;EAE/E;EACA,MAAMmB,qBAAqB,GAAIC,CAAmB,IAAK;IACrDA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBJ,aAAa,CAAC,IAAI,CAAC;IACnBC,WAAW,CAACI,OAAO,GAAG;MACpBC,MAAM,EAAEH,CAAC,CAACI,OAAO;MACjBC,UAAU,EAAEX;IACd,CAAC;EACH,CAAC;;EAED;EACAZ,SAAS,CAAC,MAAM;IACd,MAAMwB,qBAAqB,GAAIN,CAAa,IAAK;MAC/C,IAAI,CAACJ,UAAU,IAAI,CAACE,WAAW,CAACI,OAAO,EAAE;MAEzC,MAAMK,KAAK,GAAGlB,QAAQ,KAAK,MAAM,GAC7BW,CAAC,CAACI,OAAO,GAAGN,WAAW,CAACI,OAAO,CAACC,MAAM,GACtCL,WAAW,CAACI,OAAO,CAACC,MAAM,GAAGH,CAAC,CAACI,OAAO;MAE1C,MAAMI,QAAQ,GAAGC,IAAI,CAACC,GAAG,CACvBvB,QAAQ,EACRsB,IAAI,CAACE,GAAG,CAACvB,QAAQ,EAAEU,WAAW,CAACI,OAAO,CAACG,UAAU,GAAGE,KAAK,CAC3D,CAAC;MAEDZ,QAAQ,CAACa,QAAQ,CAAC;IACpB,CAAC;IAED,MAAMI,mBAAmB,GAAGA,CAAA,KAAM;MAChCf,aAAa,CAAC,KAAK,CAAC;MACpBC,WAAW,CAACI,OAAO,GAAG,IAAI;IAC5B,CAAC;IAED,IAAIN,UAAU,EAAE;MACdiB,QAAQ,CAACC,gBAAgB,CAAC,WAAW,EAAER,qBAAqB,CAAC;MAC7DO,QAAQ,CAACC,gBAAgB,CAAC,SAAS,EAAEF,mBAAmB,CAAC;IAC3D;IAEA,OAAO,MAAM;MACXC,QAAQ,CAACE,mBAAmB,CAAC,WAAW,EAAET,qBAAqB,CAAC;MAChEO,QAAQ,CAACE,mBAAmB,CAAC,SAAS,EAAEH,mBAAmB,CAAC;IAC9D,CAAC;EACH,CAAC,EAAE,CAAChB,UAAU,EAAET,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,CAAC,CAAC;EAE9C,MAAM2B,iBAAiB,GAAGA,CAAA,KAAM;IAC9B,IAAI3B,QAAQ,KAAK,MAAM,EAAE;MACvB,OAAO;QACL4B,IAAI,EAAE,CAAC;QACPC,WAAW,EAAE,mBAAmB;QAChCxB,KAAK,EAAEJ,WAAW,GAAG,CAAC,GAAGI;MAC3B,CAAC;IACH,CAAC,MAAM;MACL,OAAO;QACLyB,KAAK,EAAE,CAAC;QACRC,UAAU,EAAE,mBAAmB;QAC/B1B,KAAK,EAAEJ,WAAW,GAAG,CAAC,GAAGI;MAC3B,CAAC;IACH;EACF,CAAC;EAED,MAAM2B,qBAAqB,GAAGA,CAAA,KAAM;IAClC,OAAO;MACLhC,QAAQ,EAAE,UAAU;MACpBiC,GAAG,EAAE,CAAC;MACN,CAACjC,QAAQ,KAAK,MAAM,GAAG,OAAO,GAAG,MAAM,GAAG,CAAC,CAAC;MAC5CK,KAAK,EAAE,CAAC;MACR6B,MAAM,EAAE,MAAM;MACdC,MAAM,EAAE,YAAY;MACpBC,MAAM,EAAE;IACV,CAAC;EACH,CAAC;EAED,oBACEzC,OAAA;IACE0C,SAAS,EAAE,qGAAsG;IACjHC,KAAK,EAAEX,iBAAiB,CAAC,CAAE;IAAAxB,QAAA,GAE1B,CAACF,WAAW,iBACXN,OAAA;MACE0C,SAAS,EAAC,4BAA4B;MACtCC,KAAK,EAAE;QAAE,CAACtC,QAAQ,KAAK,MAAM,GAAG,OAAO,GAAG,MAAM,GAAG;MAAE,CAAE;MAAAG,QAAA,eAEvDR,OAAA;QACE4C,OAAO,EAAErC,gBAAiB;QAC1BmC,SAAS,EAAC,yDAAyD;QACnE,cAAY,YAAYrC,QAAQ,QAAS;QAAAG,QAAA,eAEzCR,OAAA;UAAK0C,SAAS,EAAC,SAAS;UAACG,IAAI,EAAC,MAAM;UAACC,MAAM,EAAC,cAAc;UAACC,OAAO,EAAC,WAAW;UAAAvC,QAAA,eAC5ER,OAAA;YACEgD,aAAa,EAAC,OAAO;YACrBC,cAAc,EAAC,OAAO;YACtBC,WAAW,EAAE,CAAE;YACfC,CAAC,EAAE9C,QAAQ,KAAK,MAAM,GAAG,iBAAiB,GAAG;UAAe;YAAA+C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7D;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CACN,EAEA,CAACjD,WAAW,iBACXN,OAAA;MACE2C,KAAK,EAAEN,qBAAqB,CAAC,CAAE;MAC/BmB,WAAW,EAAEzC,qBAAsB;MACnC2B,SAAS,EAAC;IAAmB;MAAAU,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC9B,CACF,EAEAjD,WAAW,iBACVN,OAAA;MACE4C,OAAO,EAAErC,gBAAiB;MAC1BmC,SAAS,EAAC,sGAAsG;MAChHC,KAAK,EAAE;QACLL,GAAG,EAAE,KAAK;QACVmB,SAAS,EAAE,kBAAkB;QAC7B,CAACpD,QAAQ,KAAK,MAAM,GAAG,MAAM,GAAG,OAAO,GAAG;MAC5C,CAAE;MACF,cAAY,UAAUA,QAAQ,QAAS;MAAAG,QAAA,eAEvCR,OAAA;QAAK0C,SAAS,EAAC,SAAS;QAACG,IAAI,EAAC,MAAM;QAACC,MAAM,EAAC,cAAc;QAACC,OAAO,EAAC,WAAW;QAAAvC,QAAA,eAC5ER,OAAA;UACEgD,aAAa,EAAC,OAAO;UACrBC,cAAc,EAAC,OAAO;UACtBC,WAAW,EAAE,CAAE;UACfC,CAAC,EAAE9C,QAAQ,KAAK,MAAM,GAAG,cAAc,GAAG;QAAkB;UAAA+C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7D;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CACT,eAEDvD,OAAA;MAAK0C,SAAS,EAAC,wBAAwB;MAAAlC,QAAA,EACpC,CAACF,WAAW,IAAIE;IAAQ;MAAA4C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACtB,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAC9C,EAAA,CAlJIR,cAA6C;AAAAyD,EAAA,GAA7CzD,cAA6C;AAoJnD,eAAeA,cAAc;AAAC,IAAAyD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}