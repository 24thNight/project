{"ast":null,"code":"// 计算任务的树木成长阶段\nexport const calculateGrowthStage = plan => {\n  if (!plan) return 0;\n\n  // 基础阶段基于进度\n  const baseStage = Math.floor(plan.progress / 20);\n\n  // AI互动奖励（每5次交互可以提升一个阶段，但最多提升1级）\n  const aiBonus = Math.min(1, Math.floor((plan.aiInteractions || 0) / 5));\n\n  // 最终阶段 (0-5)\n  return Math.min(5, baseStage + aiBonus);\n};\n\n// Mock data for the dashboard\nexport const mockPlans = [{\n  id: \"plan-1\",\n  title: \"Learn TypeScript and React\",\n  description: \"Master TypeScript and React for web development\",\n  significance: \"学习React和TypeScript将帮助我成为更专业的前端开发者，提升我的职业竞争力\",\n  currentStageId: \"stage-1\",\n  stages: [{\n    id: \"stage-1\",\n    title: \"TypeScript Basics\",\n    completed: false,\n    tasks: [{\n      id: \"task-1\",\n      title: \"Learn TypeScript fundamentals\",\n      status: \"active\",\n      priority: \"high\",\n      completed: false\n    }, {\n      id: \"task-2\",\n      title: \"Practice with TypeScript interfaces\",\n      status: \"active\",\n      priority: \"medium\",\n      completed: false\n    }]\n  }, {\n    id: \"stage-2\",\n    title: \"React Fundamentals\",\n    completed: false,\n    tasks: [{\n      id: \"task-3\",\n      title: \"Learn React hooks\",\n      status: \"active\",\n      priority: \"high\",\n      completed: false\n    }]\n  }],\n  createdAt: new Date(2025, 4, 1),\n  updatedAt: new Date(2025, 4, 2),\n  status: \"ongoing\",\n  progress: 30,\n  growthStage: 1,\n  aiInteractions: 3\n}, {\n  id: \"plan-2\",\n  title: \"Design System Project\",\n  description: \"Create a company-wide design system\",\n  significance: \"设计系统将统一公司的UI风格，提高开发效率，为用户提供一致的体验\",\n  currentStageId: \"stage-3\",\n  stages: [{\n    id: \"stage-3\",\n    title: \"Component Library\",\n    completed: false,\n    tasks: [{\n      id: \"task-4\",\n      title: \"Design button component\",\n      status: \"completed\",\n      priority: \"high\",\n      completed: true\n    }, {\n      id: \"task-5\",\n      title: \"Design card component\",\n      status: \"active\",\n      priority: \"medium\",\n      completed: false\n    }]\n  }],\n  createdAt: new Date(2025, 4, 1),\n  updatedAt: new Date(2025, 4, 1),\n  status: \"ongoing\",\n  progress: 65,\n  delayedDays: 2,\n  growthStage: 4,\n  aiInteractions: 8\n}, {\n  id: \"plan-3\",\n  title: \"Marketing Campaign\",\n  description: \"Q2 Marketing Campaign\",\n  significance: \"这次营销活动对于扩大产品影响力和吸引新用户至关重要\",\n  currentStageId: \"stage-4\",\n  stages: [{\n    id: \"stage-4\",\n    title: \"Content Creation\",\n    completed: false,\n    tasks: [{\n      id: \"task-6\",\n      title: \"Write blog posts\",\n      status: \"active\",\n      priority: \"high\",\n      completed: false\n    }]\n  }],\n  createdAt: new Date(2025, 3, 15),\n  updatedAt: new Date(2025, 4, 1),\n  status: \"ongoing\",\n  progress: 45,\n  growthStage: 2,\n  aiInteractions: 5\n}];","map":{"version":3,"names":["calculateGrowthStage","plan","baseStage","Math","floor","progress","aiBonus","min","aiInteractions","mockPlans","id","title","description","significance","currentStageId","stages","completed","tasks","status","priority","createdAt","Date","updatedAt","growthStage","delayedDays"],"sources":["/home/devbox/project/src/types/task.ts"],"sourcesContent":["export type TaskStatus = 'active' | 'completed' | 'deleted';\n\nexport type TaskPriority = 'high' | 'medium' | 'low';\n\nexport interface Task {\n  id: string;\n  title: string;\n  description?: string;\n  dueDate?: Date;\n  status: TaskStatus;\n  priority: TaskPriority;\n  completed: boolean;\n}\n\nexport type PlanStatus = 'ongoing' | 'completed' | 'deleted';\n\nexport interface PlanStage {\n  id: string;\n  title: string;\n  tasks: Task[];\n  completed: boolean;\n}\n\nexport interface Plan {\n  id: string;\n  title: string;\n  description?: string;\n  significance?: string; // 任务意义描述\n  currentStageId: string;\n  stages: PlanStage[];\n  createdAt: Date;\n  updatedAt: Date;\n  status: PlanStatus;\n  progress: number; // 0-100\n  delayedDays?: number;\n  growthStage?: number; // 0-5树木成长阶段\n  aiInteractions?: number; // AI交互次数\n}\n\n// 计算任务的树木成长阶段\nexport const calculateGrowthStage = (plan: Plan): number => {\n  if (!plan) return 0;\n  \n  // 基础阶段基于进度\n  const baseStage = Math.floor(plan.progress / 20);\n  \n  // AI互动奖励（每5次交互可以提升一个阶段，但最多提升1级）\n  const aiBonus = Math.min(1, Math.floor((plan.aiInteractions || 0) / 5));\n  \n  // 最终阶段 (0-5)\n  return Math.min(5, baseStage + aiBonus);\n};\n\n// Mock data for the dashboard\nexport const mockPlans: Plan[] = [\n  {\n    id: \"plan-1\",\n    title: \"Learn TypeScript and React\",\n    description: \"Master TypeScript and React for web development\",\n    significance: \"学习React和TypeScript将帮助我成为更专业的前端开发者，提升我的职业竞争力\",\n    currentStageId: \"stage-1\",\n    stages: [\n      {\n        id: \"stage-1\",\n        title: \"TypeScript Basics\",\n        completed: false,\n        tasks: [\n          {\n            id: \"task-1\",\n            title: \"Learn TypeScript fundamentals\",\n            status: \"active\",\n            priority: \"high\",\n            completed: false,\n          },\n          {\n            id: \"task-2\",\n            title: \"Practice with TypeScript interfaces\",\n            status: \"active\",\n            priority: \"medium\",\n            completed: false,\n          },\n        ],\n      },\n      {\n        id: \"stage-2\",\n        title: \"React Fundamentals\",\n        completed: false,\n        tasks: [\n          {\n            id: \"task-3\",\n            title: \"Learn React hooks\",\n            status: \"active\",\n            priority: \"high\",\n            completed: false,\n          },\n        ],\n      },\n    ],\n    createdAt: new Date(2025, 4, 1),\n    updatedAt: new Date(2025, 4, 2),\n    status: \"ongoing\",\n    progress: 30,\n    growthStage: 1,\n    aiInteractions: 3\n  },\n  {\n    id: \"plan-2\",\n    title: \"Design System Project\",\n    description: \"Create a company-wide design system\",\n    significance: \"设计系统将统一公司的UI风格，提高开发效率，为用户提供一致的体验\",\n    currentStageId: \"stage-3\",\n    stages: [\n      {\n        id: \"stage-3\",\n        title: \"Component Library\",\n        completed: false,\n        tasks: [\n          {\n            id: \"task-4\",\n            title: \"Design button component\",\n            status: \"completed\",\n            priority: \"high\",\n            completed: true,\n          },\n          {\n            id: \"task-5\",\n            title: \"Design card component\",\n            status: \"active\",\n            priority: \"medium\",\n            completed: false,\n          },\n        ],\n      },\n    ],\n    createdAt: new Date(2025, 4, 1),\n    updatedAt: new Date(2025, 4, 1),\n    status: \"ongoing\",\n    progress: 65,\n    delayedDays: 2,\n    growthStage: 4,\n    aiInteractions: 8\n  },\n  {\n    id: \"plan-3\",\n    title: \"Marketing Campaign\",\n    description: \"Q2 Marketing Campaign\",\n    significance: \"这次营销活动对于扩大产品影响力和吸引新用户至关重要\",\n    currentStageId: \"stage-4\",\n    stages: [\n      {\n        id: \"stage-4\",\n        title: \"Content Creation\",\n        completed: false,\n        tasks: [\n          {\n            id: \"task-6\",\n            title: \"Write blog posts\",\n            status: \"active\",\n            priority: \"high\",\n            completed: false,\n          },\n        ],\n      },\n    ],\n    createdAt: new Date(2025, 3, 15),\n    updatedAt: new Date(2025, 4, 1),\n    status: \"ongoing\",\n    progress: 45,\n    growthStage: 2,\n    aiInteractions: 5\n  },\n]; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}